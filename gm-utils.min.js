(function(t){var a=t.Base64;var z="2.1.9";var j;if(typeof module!=="undefined"&&module.exports){try{j=require("buffer").Buffer;}catch(r){}}var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var f=function(A){var D={};for(var B=0,C=A.length;B<C;B++){D[A.charAt(B)]=B;}return D;}(e);var s=String.fromCharCode;var n=function(A){if(A.length<2){var B=A.charCodeAt(0);return B<128?A:B<2048?(s(192|(B>>>6))+s(128|(B&63))):(s(224|((B>>>12)&15))+s(128|((B>>>6)&63))+s(128|(B&63)));}else{var B=65536+(A.charCodeAt(0)-55296)*1024+(A.charCodeAt(1)-56320);return(s(240|((B>>>18)&7))+s(128|((B>>>12)&63))+s(128|((B>>>6)&63))+s(128|(B&63)));}};var x=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g;var y=function(A){return A.replace(x,n);};var m=function(A){var D=[0,2,1][A.length%3],C=A.charCodeAt(0)<<16|((A.length>1?A.charCodeAt(1):0)<<8)|((A.length>2?A.charCodeAt(2):0)),B=[e.charAt(C>>>18),e.charAt((C>>>12)&63),D>=2?"=":e.charAt((C>>>6)&63),D>=1?"=":e.charAt(C&63)];return B.join("");};var g=t.btoa?function(A){return t.btoa(A);}:function(A){return A.replace(/[\s\S]{1,3}/g,m);};var c=j?function(A){return(A.constructor===j.constructor?A:new j(A)).toString("base64");}:function(A){return g(y(A));};var p=function(A,B){return !B?c(String(A)):c(String(A)).replace(/[+\/]/g,function(C){return C=="+"?"-":"_";}).replace(/=/g,"");};var q=function(A){return p(A,true);};var w=new RegExp(["[\xC0-\xDF][\x80-\xBF]","[\xE0-\xEF][\x80-\xBF]{2}","[\xF0-\xF7][\x80-\xBF]{3}"].join("|"),"g");var k=function(A){switch(A.length){case 4:var B=((7&A.charCodeAt(0))<<18)|((63&A.charCodeAt(1))<<12)|((63&A.charCodeAt(2))<<6)|(63&A.charCodeAt(3)),C=B-65536;return(s((C>>>10)+55296)+s((C&1023)+56320));case 3:return s(((15&A.charCodeAt(0))<<12)|((63&A.charCodeAt(1))<<6)|(63&A.charCodeAt(2)));default:return s(((31&A.charCodeAt(0))<<6)|(63&A.charCodeAt(1)));}};var h=function(A){return A.replace(w,k);};var l=function(A){var C=A.length,E=C%4,D=(C>0?f[A.charAt(0)]<<18:0)|(C>1?f[A.charAt(1)]<<12:0)|(C>2?f[A.charAt(2)]<<6:0)|(C>3?f[A.charAt(3)]:0),B=[s(D>>>16),s((D>>>8)&255),s(D&255)];B.length-=[0,0,2,1][E];return B.join("");};var d=t.atob?function(A){return t.atob(A);}:function(A){return A.replace(/[\s\S]{1,4}/g,l);};var b=j?function(A){return(A.constructor===j.constructor?A:new j(A,"base64")).toString();}:function(A){return h(d(A));};var o=function(A){return b(String(A).replace(/[-_]/g,function(B){return B=="-"?"+":"/";}).replace(/[^A-Za-z0-9\+\/]/g,""));};var u=function(){var A=t.Base64;t.Base64=a;return A;};t.Base64={VERSION:z,atob:d,btoa:g,fromBase64:o,toBase64:p,utob:y,encode:p,encodeURI:q,btou:h,decode:o,noConflict:u};if(typeof Object.defineProperty==="function"){var v=function(A){return{value:A,enumerable:false,writable:true,configurable:true};};t.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",v(function(){return o(this);}));Object.defineProperty(String.prototype,"toBase64",v(function(A){return p(this,A);}));Object.defineProperty(String.prototype,"toBase64URI",v(function(){return p(this,true);}));};}if(t.Meteor){Base64=t.Base64;}})(this);if(typeof JSON!=="object"){JSON={};}(function(){var l=/^[\],:{}\s]*$/,n=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,m=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,k=/(?:^|:|,)(?:\s*\[)+/g,j=/[\\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,h=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;function a(f){return f<10?"0"+f:f;}function p(){return this.valueOf();}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null;};Boolean.prototype.toJSON=p;Number.prototype.toJSON=p;String.prototype.toJSON=p;}var b,c,d,g;function e(f){j.lastIndex=0;return j.test(f)?'"'+f.replace(j,function(q){var r=d[q];return typeof r==="string"?r:"\\u"+("0000"+q.charCodeAt(0).toString(16)).slice(-4);})+'"':'"'+f+'"';}function o(s,f){var q,r,x,t,u=b,w,y=f[s];if(y&&typeof y==="object"&&typeof y.toJSON==="function"){y=y.toJSON(s);}if(typeof g==="function"){y=g.call(f,s,y);}switch(typeof y){case"string":return e(y);case"number":return isFinite(y)?String(y):"null";case"boolean":case"null":return String(y);case"object":if(!y){return"null";}b+=c;w=[];if(Object.prototype.toString.apply(y)==="[object Array]"){t=y.length;for(q=0;q<t;q+=1){w[q]=o(q,y)||"null";}x=w.length===0?"[]":b?"[\n"+b+w.join(",\n"+b)+"\n"+u+"]":"["+w.join(",")+"]";b=u;return x;}if(g&&typeof g==="object"){t=g.length;for(q=0;q<t;q+=1){if(typeof g[q]==="string"){r=g[q];x=o(r,y);if(x){w.push(e(r)+(b?": ":":")+x);}}}}else{for(r in y){if(Object.prototype.hasOwnProperty.call(y,r)){x=o(r,y);if(x){w.push(e(r)+(b?": ":":")+x);}}}}x=w.length===0?"{}":b?"{\n"+b+w.join(",\n"+b)+"\n"+u+"}":"{"+w.join(",")+"}";
b=u;return x;}}if(typeof JSON.stringify!=="function"){d={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};JSON.stringify=function(s,q,r){var f;b="";c="";if(typeof r==="number"){for(f=0;f<r;f+=1){c+=" ";}}else{if(typeof r==="string"){c=r;}}g=q;if(q&&typeof q!=="function"&&(typeof q!=="object"||typeof q.length!=="number")){throw new Error("JSON.stringify");}return o("",{"":s});};}if(typeof JSON.parse!=="function"){JSON.parse=function(r,q){var f;function s(t,w){var u,x,y=t[w];if(y&&typeof y==="object"){for(u in y){if(Object.prototype.hasOwnProperty.call(y,u)){x=s(y,u);if(x!==undefined){y[u]=x;}else{delete y[u];}}}}return q.call(t,w,y);}r=String(r);h.lastIndex=0;if(h.test(r)){r=r.replace(h,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4);});}if(l.test(r.replace(n,"@").replace(m,"]").replace(k,""))){f=eval("("+r+")");return typeof q==="function"?s({"":f},""):f;}throw new SyntaxError("JSON.parse");};}}());var FlashDetect=new function(){var g=this;g.installed=false;g.raw="";g.major=-1;g.minor=-1;g.revision=-1;g.revisionStr="";var a=[{name:"ShockwaveFlash.ShockwaveFlash.7",version:function(h){return c(h);}},{name:"ShockwaveFlash.ShockwaveFlash.6",version:function(j){var k="6,0,21";try{j.AllowScriptAccess="always";k=c(j);}catch(h){}return k;}},{name:"ShockwaveFlash.ShockwaveFlash",version:function(h){return c(h);}}];var c=function(h){var k=-1;try{k=h.GetVariable("$version");}catch(j){}return k;};var b=function(j){var k=-1;try{k=new ActiveXObject(j);}catch(h){k={activeXError:true};}return k;};var d=function(h){var j=h.split(",");return{raw:h,major:parseInt(j[0].split(" ")[1],10),minor:parseInt(j[1],10),revision:parseInt(j[2],10),revisionStr:j[2]};};var f=function(l){var h=l.split(/ +/);var j=h[2].split(/\./);var k=h[3];return{raw:l,major:parseInt(j[0],10),minor:parseInt(j[1],10),revisionStr:k,revision:e(k)};};var e=function(h){return parseInt(h.replace(/[a-zA-Z]/g,""),10)||g.revision;};g.majorAtLeast=function(h){return g.major>=h;};g.minorAtLeast=function(h){return g.minor>=h;};g.revisionAtLeast=function(h){return g.revision>=h;};g.versionAtLeast=function(j){var k=[g.major,g.minor,g.revision];var h=Math.min(k.length,arguments.length);for(i=0;i<h;i++){if(k[i]>=arguments[i]){if(i+1<h&&k[i]==arguments[i]){continue;}else{return true;}}else{return false;}}};g.FlashDetect=function(){if(navigator.plugins&&navigator.plugins.length>0){var l="application/x-shockwave-flash";var j=navigator.mimeTypes;if(j&&j[l]&&j[l].enabledPlugin&&j[l].enabledPlugin.description){var m=j[l].enabledPlugin.description;var n=f(m);g.raw=n.raw;g.major=n.major;g.minor=n.minor;g.revisionStr=n.revisionStr;g.revision=n.revision;g.installed=true;}}else{if(navigator.appVersion.indexOf("Mac")==-1&&window.execScript){var m=-1;for(var h=0;h<a.length&&m==-1;h++){var k=b(a[h].name);if(!k.activeXError){g.installed=true;m=a[h].version(k);if(m!=-1){var n=d(m);g.raw=n.raw;g.major=n.major;g.minor=n.minor;g.revision=n.revision;g.revisionStr=n.revisionStr;}}}}}}();};FlashDetect.JS_RELEASE="1.0.4";(function(b,a){if(typeof exports==="object"){module.exports=a(require("./punycode"),require("./IPv6"),require("./SecondLevelDomains"));}else{if(typeof define==="function"&&define.amd){define(["./punycode","./IPv6","./SecondLevelDomains"],a);}else{b.URI=a(b.punycode,b.IPv6,b.SecondLevelDomains,b);}}}(this,function(x,u,A,z){var f=z&&z.URI;function D(F,E){var q=arguments.length>=1;var p=arguments.length>=2;if(!(this instanceof D)){if(q){if(p){return new D(F,E);}return new D(F);}return new D();}if(F===undefined){if(q){throw new TypeError("undefined is not a valid argument for URI");}if(typeof location!=="undefined"){F=location.href+"";}else{F="";}}this.href(F);if(E!==undefined){return this.absoluteTo(E);}return this;}D.version="1.17.1";var w=D.prototype;var t=Object.prototype.hasOwnProperty;function k(p){return p.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1");}function s(p){if(p===undefined){return"Undefined";}return String(Object.prototype.toString.call(p)).slice(8,-1);}function v(p){return s(p)==="Array";}function l(q,H){var G={};var E,F;if(s(H)==="RegExp"){G=null;}else{if(v(H)){for(E=0,F=H.length;E<F;E++){G[H[E]]=true;}}else{G[H]=true;}}for(E=0,F=q.length;E<F;E++){var p=G&&G[q[E]]!==undefined||!G&&H.test(q[E]);if(p){q.splice(E,1);F--;E--;}}return q;}function g(F,G){var q,E;if(v(G)){for(q=0,E=G.length;q<E;q++){if(!g(F,G[q])){return false;}}return true;}var p=s(G);for(q=0,E=F.length;q<E;q++){if(p==="RegExp"){if(typeof F[q]==="string"&&F[q].match(G)){return true;}}else{if(F[q]===G){return true;}}}return false;}function h(E,F){if(!v(E)||!v(F)){return false;}if(E.length!==F.length){return false;}E.sort();F.sort();for(var p=0,q=E.length;p<q;p++){if(E[p]!==F[p]){return false;}}return true;}function C(p){var q=/^\/+|\/+$/g;return p.replace(q,"");}D._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,duplicateQueryParameters:D.duplicateQueryParameters,escapeQuerySpace:D.escapeQuerySpace};
};D.duplicateQueryParameters=false;D.escapeQuerySpace=true;D.protocol_expression=/^[a-z][a-z0-9.+-]*$/i;D.idn_expression=/[^a-z0-9\.-]/i;D.punycode_expression=/(xn--)/i;D.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/;D.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/;D.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/ig;D.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?«»“”„‘’]+$/};D.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"};D.invalid_hostname_characters=/[^a-zA-Z0-9\.-]/;D.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src",audio:"src",video:"src"};D.getDomAttribute=function(p){if(!p||!p.nodeName){return undefined;}var q=p.nodeName.toLowerCase();if(q==="input"&&p.type!=="image"){return undefined;}return D.domAttributes[q];};function j(p){return escape(p);}function B(p){return encodeURIComponent(p).replace(/[!'()*]/g,j).replace(/\*/g,"%2A");}D.encode=B;D.decode=decodeURIComponent;D.iso8859=function(){D.encode=escape;D.decode=unescape;};D.unicode=function(){D.encode=B;D.decode=decodeURIComponent;};D.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/ig,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/ig,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}},urnpath:{encode:{expression:/%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/ig,map:{"%21":"!","%24":"$","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"=","%40":"@"}},decode:{expression:/[\/\?#:]/g,map:{"/":"%2F","?":"%3F","#":"%23",":":"%3A"}}}};D.encodeQuery=function(E,q){var p=D.encode(E+"");if(q===undefined){q=D.escapeQuerySpace;}return q?p.replace(/%20/g,"+"):p;};D.decodeQuery=function(E,q){E+="";if(q===undefined){q=D.escapeQuerySpace;}try{return D.decode(q?E.replace(/\+/g,"%20"):E);}catch(p){return E;}};var c={encode:"encode",decode:"decode"};var b;var m=function(p,q){return function(F){try{return D[q](F+"").replace(D.characters[p][q].expression,function(G){return D.characters[p][q].map[G];});}catch(E){return F;}};};for(b in c){D[b+"PathSegment"]=m("pathname",c[b]);D[b+"UrnPathSegment"]=m("urnpath",c[b]);}var o=function(E,p,q){return function(J){var F;if(!q){F=D[p];}else{F=function(K){return D[p](D[q](K));};}var I=(J+"").split(E);for(var G=0,H=I.length;G<H;G++){I[G]=F(I[G]);}return I.join(E);};};D.decodePath=o("/","decodePathSegment");D.decodeUrnPath=o(":","decodeUrnPathSegment");D.recodePath=o("/","encodePathSegment","decode");D.recodeUrnPath=o(":","encodeUrnPathSegment","decode");D.encodeReserved=m("reserved","encode");D.parse=function(E,p){var q;if(!p){p={};}q=E.indexOf("#");if(q>-1){p.fragment=E.substring(q+1)||null;E=E.substring(0,q);}q=E.indexOf("?");if(q>-1){p.query=E.substring(q+1)||null;E=E.substring(0,q);}if(E.substring(0,2)==="//"){p.protocol=null;E=E.substring(2);E=D.parseAuthority(E,p);}else{q=E.indexOf(":");if(q>-1){p.protocol=E.substring(0,q)||null;if(p.protocol&&!p.protocol.match(D.protocol_expression)){p.protocol=undefined;}else{if(E.substring(q+1,q+3)==="//"){E=E.substring(q+3);E=D.parseAuthority(E,p);}else{E=E.substring(q+1);p.urn=true;}}}}p.path=E;return p;};D.parseHost=function(I,G){I=I.replace(/\\/g,"/");var H=I.indexOf("/");var p;var J;if(H===-1){H=I.length;}if(I.charAt(0)==="["){p=I.indexOf("]");G.hostname=I.substring(1,p)||null;G.port=I.substring(p+2,H)||null;
if(G.port==="/"){G.port=null;}}else{var q=I.indexOf(":");var E=I.indexOf("/");var F=I.indexOf(":",q+1);if(F!==-1&&(E===-1||F<E)){G.hostname=I.substring(0,H)||null;G.port=null;}else{J=I.substring(0,H).split(":");G.hostname=J[0]||null;G.port=J[1]||null;}}if(G.hostname&&I.substring(H).charAt(0)!=="/"){H++;I="/"+I;}return I.substring(H)||"/";};D.parseAuthority=function(q,p){q=D.parseUserinfo(q,p);return D.parseHost(q,p);};D.parseUserinfo=function(F,q){var p=F.indexOf("/");var E=F.lastIndexOf("@",p>-1?p:F.length-1);var G;if(E>-1&&(p===-1||E<p)){G=F.substring(0,E).split(":");q.username=G[0]?D.decode(G[0]):null;G.shift();q.password=G[0]?D.decode(G.join(":")):null;F=F.substring(E+1);}else{q.username=null;q.password=null;}return F;};D.parseQuery=function(I,p){if(!I){return{};}I=I.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"");if(!I){return{};}var E={};var H=I.split("&");var F=H.length;var J,G,K;for(var q=0;q<F;q++){J=H[q].split("=");G=D.decodeQuery(J.shift(),p);K=J.length?D.decodeQuery(J.join("="),p):null;if(t.call(E,G)){if(typeof E[G]==="string"||E[G]===null){E[G]=[E[G]];}E[G].push(K);}else{E[G]=K;}}return E;};D.build=function(p){var q="";if(p.protocol){q+=p.protocol+":";}if(!p.urn&&(q||p.hostname)){q+="//";}q+=(D.buildAuthority(p)||"");if(typeof p.path==="string"){if(p.path.charAt(0)!=="/"&&typeof p.hostname==="string"){q+="/";}q+=p.path;}if(typeof p.query==="string"&&p.query){q+="?"+p.query;}if(typeof p.fragment==="string"&&p.fragment){q+="#"+p.fragment;}return q;};D.buildHost=function(p){var q="";if(!p.hostname){return"";}else{if(D.ip6_expression.test(p.hostname)){q+="["+p.hostname+"]";}else{q+=p.hostname;}}if(p.port){q+=":"+p.port;}return q;};D.buildAuthority=function(p){return D.buildUserinfo(p)+D.buildHost(p);};D.buildUserinfo=function(p){var q="";if(p.username){q+=D.encode(p.username);if(p.password){q+=":"+D.encode(p.password);}q+="@";}return q;};D.buildQuery=function(p,q,E){var I="";var J,G,F,H;for(G in p){if(t.call(p,G)&&G){if(v(p[G])){J={};for(F=0,H=p[G].length;F<H;F++){if(p[G][F]!==undefined&&J[p[G][F]+""]===undefined){I+="&"+D.buildQueryParameter(G,p[G][F],E);if(q!==true){J[p[G][F]+""]=true;}}}}else{if(p[G]!==undefined){I+="&"+D.buildQueryParameter(G,p[G],E);}}}}return I.substring(1);};D.buildQueryParameter=function(q,E,p){return D.encodeQuery(q,p)+(E!==null?"="+D.encodeQuery(E,p):"");};D.addQuery=function(p,E,F){if(typeof E==="object"){for(var q in E){if(t.call(E,q)){D.addQuery(p,q,E[q]);}}}else{if(typeof E==="string"){if(p[E]===undefined){p[E]=F;return;}else{if(typeof p[E]==="string"){p[E]=[p[E]];}}if(!v(F)){F=[F];}p[E]=(p[E]||[]).concat(F);}else{throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");}}};D.removeQuery=function(p,G,H){var q,F,E;if(v(G)){for(q=0,F=G.length;q<F;q++){p[G[q]]=undefined;}}else{if(s(G)==="RegExp"){for(E in p){if(G.test(E)){p[E]=undefined;}}}else{if(typeof G==="object"){for(E in G){if(t.call(G,E)){D.removeQuery(p,E,G[E]);}}}else{if(typeof G==="string"){if(H!==undefined){if(s(H)==="RegExp"){if(!v(p[G])&&H.test(p[G])){p[G]=undefined;}else{p[G]=l(p[G],H);}}else{if(p[G]===String(H)&&(!v(H)||H.length===1)){p[G]=undefined;}else{if(v(p[G])){p[G]=l(p[G],H);}}}}else{p[G]=undefined;}}else{throw new TypeError("URI.removeQuery() accepts an object, string, RegExp as the first parameter");}}}}};D.hasQuery=function(E,G,I,J){switch(s(G)){case"String":break;case"RegExp":for(var F in E){if(t.call(E,F)){if(G.test(F)&&(I===undefined||D.hasQuery(E,F,I))){return true;}}}return false;case"Object":for(var q in G){if(t.call(G,q)){if(!D.hasQuery(E,q,G[q])){return false;}}}return true;default:throw new TypeError("URI.hasQuery() accepts a string, regular expression or object as the name parameter");}switch(s(I)){case"Undefined":return G in E;case"Boolean":var p=Boolean(v(E[G])?E[G].length:E[G]);return I===p;case"Function":return !!I(E[G],G,E);case"Array":if(!v(E[G])){return false;}var H=J?g:h;return H(E[G],I);case"RegExp":if(!v(E[G])){return Boolean(E[G]&&E[G].match(I));}if(!J){return false;}return g(E[G],I);case"Number":I=String(I);case"String":if(!v(E[G])){return E[G]===I;}if(!J){return false;}return g(E[G],I);default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter");}};D.commonPath=function(q,F){var p=Math.min(q.length,F.length);var E;for(E=0;E<p;E++){if(q.charAt(E)!==F.charAt(E)){E--;break;}}if(E<1){return q.charAt(0)===F.charAt(0)&&q.charAt(0)==="/"?"/":"";}if(q.charAt(E)!=="/"||F.charAt(E)!=="/"){E=q.substring(0,E).lastIndexOf("/");}return q.substring(0,E+1);};D.withinString=function(O,H,K){K||(K={});var E=K.start||D.findUri.start;var q=K.end||D.findUri.end;var F=K.trim||D.findUri.trim;var p=/[a-z0-9-]=["']?$/i;E.lastIndex=0;while(true){var J=E.exec(O);if(!J){break;}var N=J.index;if(K.ignoreHtml){var G=O.slice(Math.max(N-3,0),N);if(G&&p.test(G)){continue;}}var I=N+O.slice(N).search(q);var M=O.slice(N,I).replace(F,"");if(K.ignore&&K.ignore.test(M)){continue;}I=N+M.length;var L=H(M,N,I,O);O=O.slice(0,N)+L+O.slice(I);
E.lastIndex=N+L.length;}E.lastIndex=0;return O;};D.ensureValidHostname=function(p){if(p.match(D.invalid_hostname_characters)){if(!x){throw new TypeError('Hostname "'+p+'" contains characters other than [A-Z0-9.-] and Punycode.js is not available');}if(x.toASCII(p).match(D.invalid_hostname_characters)){throw new TypeError('Hostname "'+p+'" contains characters other than [A-Z0-9.-]');}}};D.noConflict=function(p){if(p){var q={URI:this.noConflict()};if(z.URITemplate&&typeof z.URITemplate.noConflict==="function"){q.URITemplate=z.URITemplate.noConflict();}if(z.IPv6&&typeof z.IPv6.noConflict==="function"){q.IPv6=z.IPv6.noConflict();}if(z.SecondLevelDomains&&typeof z.SecondLevelDomains.noConflict==="function"){q.SecondLevelDomains=z.SecondLevelDomains.noConflict();}return q;}else{if(z.URI===this){z.URI=f;}}return this;};w.build=function(p){if(p===true){this._deferred_build=true;}else{if(p===undefined||this._deferred_build){this._string=D.build(this._parts);this._deferred_build=false;}}return this;};w.clone=function(){return new D(this);};w.valueOf=w.toString=function(){return this.build(false)._string;};function r(p){return function(E,q){if(E===undefined){return this._parts[p]||"";}else{this._parts[p]=E||null;this.build(!q);return this;}};}function n(q,p){return function(F,E){if(F===undefined){return this._parts[q]||"";}else{if(F!==null){F=F+"";if(F.charAt(0)===p){F=F.substring(1);}}this._parts[q]=F;this.build(!E);return this;}};}w.protocol=r("protocol");w.username=r("username");w.password=r("password");w.hostname=r("hostname");w.port=r("port");w.query=n("query","?");w.fragment=n("fragment","#");w.search=function(E,p){var q=this.query(E,p);return typeof q==="string"&&q.length?("?"+q):q;};w.hash=function(E,p){var q=this.fragment(E,p);return typeof q==="string"&&q.length?("#"+q):q;};w.pathname=function(E,p){if(E===undefined||E===true){var q=this._parts.path||(this._parts.hostname?"/":"");return E?(this._parts.urn?D.decodeUrnPath:D.decodePath)(q):q;}else{if(this._parts.urn){this._parts.path=E?D.recodeUrnPath(E):"";}else{this._parts.path=E?D.recodePath(E):"/";}this.build(!p);return this;}};w.path=w.pathname;w.href=function(G,F){var H;if(G===undefined){return this.toString();}this._string="";this._parts=D._parts();var q=G instanceof D;var p=typeof G==="object"&&(G.hostname||G.path||G.pathname);if(G.nodeName){var E=D.getDomAttribute(G);G=G[E]||"";p=false;}if(!q&&p&&G.pathname!==undefined){G=G.toString();}if(typeof G==="string"||G instanceof String){this._parts=D.parse(String(G),this._parts);}else{if(q||p){var I=q?G._parts:G;for(H in I){if(t.call(this._parts,H)){this._parts[H]=I[H];}}}else{throw new TypeError("invalid input");}}this.build(!F);return this;};w.is=function(K){var q=false;var E=false;var F=false;var G=false;var J=false;var p=false;var H=false;var I=!this._parts.urn;if(this._parts.hostname){I=false;E=D.ip4_expression.test(this._parts.hostname);F=D.ip6_expression.test(this._parts.hostname);q=E||F;G=!q;J=G&&A&&A.has(this._parts.hostname);p=G&&D.idn_expression.test(this._parts.hostname);H=G&&D.punycode_expression.test(this._parts.hostname);}switch(K.toLowerCase()){case"relative":return I;case"absolute":return !I;case"domain":case"name":return G;case"sld":return J;case"ip":return q;case"ip4":case"ipv4":case"inet4":return E;case"ip6":case"ipv6":case"inet6":return F;case"idn":return p;case"url":return !this._parts.urn;case"urn":return !!this._parts.urn;case"punycode":return H;}return null;};var e=w.protocol;var d=w.port;var a=w.hostname;w.protocol=function(q,p){if(q!==undefined){if(q){q=q.replace(/:(\/\/)?$/,"");if(!q.match(D.protocol_expression)){throw new TypeError('Protocol "'+q+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");}}}return e.call(this,q,p);};w.scheme=w.protocol;w.port=function(q,p){if(this._parts.urn){return q===undefined?"":this;}if(q!==undefined){if(q===0){q=null;}if(q){q+="";if(q.charAt(0)===":"){q=q.substring(1);}if(q.match(/[^0-9]/)){throw new TypeError('Port "'+q+'" contains characters other than [0-9]');}}}return d.call(this,q,p);};w.hostname=function(E,p){if(this._parts.urn){return E===undefined?"":this;}if(E!==undefined){var F={};var q=D.parseHost(E,F);if(q!=="/"){throw new TypeError('Hostname "'+E+'" contains characters other than [A-Z0-9.-]');}E=F.hostname;}return a.call(this,E,p);};w.origin=function(G,q){if(this._parts.urn){return G===undefined?"":this;}if(G===undefined){var F=this.protocol();var p=this.authority();if(!p){return"";}return(F?F+"://":"")+this.authority();}else{var E=D(G);this.protocol(E.protocol()).authority(E.authority()).build(!q);return this;}};w.host=function(E,p){if(this._parts.urn){return E===undefined?"":this;}if(E===undefined){return this._parts.hostname?D.buildHost(this._parts):"";}else{var q=D.parseHost(E,this._parts);if(q!=="/"){throw new TypeError('Hostname "'+E+'" contains characters other than [A-Z0-9.-]');}this.build(!p);return this;}};w.authority=function(E,p){if(this._parts.urn){return E===undefined?"":this;}if(E===undefined){return this._parts.hostname?D.buildAuthority(this._parts):"";
}else{var q=D.parseAuthority(E,this._parts);if(q!=="/"){throw new TypeError('Hostname "'+E+'" contains characters other than [A-Z0-9.-]');}this.build(!p);return this;}};w.userinfo=function(E,p){if(this._parts.urn){return E===undefined?"":this;}if(E===undefined){if(!this._parts.username){return"";}var q=D.buildUserinfo(this._parts);return q.substring(0,q.length-1);}else{if(E[E.length-1]!=="@"){E+="@";}D.parseUserinfo(E,this._parts);this.build(!p);return this;}};w.resource=function(E,p){var q;if(E===undefined){return this.path()+this.search()+this.hash();}q=D.parse(E);this._parts.path=q.path;this._parts.query=q.query;this._parts.fragment=q.fragment;this.build(!p);return this;};w.subdomain=function(H,p){if(this._parts.urn){return H===undefined?"":this;}if(H===undefined){if(!this._parts.hostname||this.is("IP")){return"";}var E=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,E)||"";}else{var q=this._parts.hostname.length-this.domain().length;var G=this._parts.hostname.substring(0,q);var F=new RegExp("^"+k(G));if(H&&H.charAt(H.length-1)!=="."){H+=".";}if(H){D.ensureValidHostname(H);}this._parts.hostname=this._parts.hostname.replace(F,H);this.build(!p);return this;}};w.domain=function(G,p){if(this._parts.urn){return G===undefined?"":this;}if(typeof G==="boolean"){p=G;G=undefined;}if(G===undefined){if(!this._parts.hostname||this.is("IP")){return"";}var F=this._parts.hostname.match(/\./g);if(F&&F.length<2){return this._parts.hostname;}var q=this._parts.hostname.length-this.tld(p).length-1;q=this._parts.hostname.lastIndexOf(".",q-1)+1;return this._parts.hostname.substring(q)||"";}else{if(!G){throw new TypeError("cannot set domain empty");}D.ensureValidHostname(G);if(!this._parts.hostname||this.is("IP")){this._parts.hostname=G;}else{var E=new RegExp(k(this.domain())+"$");this._parts.hostname=this._parts.hostname.replace(E,G);}this.build(!p);return this;}};w.tld=function(G,p){if(this._parts.urn){return G===undefined?"":this;}if(typeof G==="boolean"){p=G;G=undefined;}if(G===undefined){if(!this._parts.hostname||this.is("IP")){return"";}var q=this._parts.hostname.lastIndexOf(".");var F=this._parts.hostname.substring(q+1);if(p!==true&&A&&A.list[F.toLowerCase()]){return A.get(this._parts.hostname)||F;}return F;}else{var E;if(!G){throw new TypeError("cannot set TLD empty");}else{if(G.match(/[^a-zA-Z0-9-]/)){if(A&&A.is(G)){E=new RegExp(k(this.tld())+"$");this._parts.hostname=this._parts.hostname.replace(E,G);}else{throw new TypeError('TLD "'+G+'" contains characters other than [A-Z0-9]');}}else{if(!this._parts.hostname||this.is("IP")){throw new ReferenceError("cannot set TLD on non-domain host");}else{E=new RegExp(k(this.tld())+"$");this._parts.hostname=this._parts.hostname.replace(E,G);}}}this.build(!p);return this;}};w.directory=function(I,p){if(this._parts.urn){return I===undefined?"":this;}if(I===undefined||I===true){if(!this._parts.path&&!this._parts.hostname){return"";}if(this._parts.path==="/"){return"/";}var F=this._parts.path.length-this.filename().length-1;var H=this._parts.path.substring(0,F)||(this._parts.hostname?"/":"");return I?D.decodePath(H):H;}else{var E=this._parts.path.length-this.filename().length;var q=this._parts.path.substring(0,E);var G=new RegExp("^"+k(q));if(!this.is("relative")){if(!I){I="/";}if(I.charAt(0)!=="/"){I="/"+I;}}if(I&&I.charAt(I.length-1)!=="/"){I+="/";}I=D.recodePath(I);this._parts.path=this._parts.path.replace(G,I);this.build(!p);return this;}};w.filename=function(H,p){if(this._parts.urn){return H===undefined?"":this;}if(H===undefined||H===true){if(!this._parts.path||this._parts.path==="/"){return"";}var E=this._parts.path.lastIndexOf("/");var G=this._parts.path.substring(E+1);return H?D.decodePathSegment(G):G;}else{var q=false;if(H.charAt(0)==="/"){H=H.substring(1);}if(H.match(/\.?\//)){q=true;}var F=new RegExp(k(this.filename())+"$");H=D.recodePath(H);this._parts.path=this._parts.path.replace(F,H);if(q){this.normalizePath(p);}else{this.build(!p);}return this;}};w.suffix=function(J,p){if(this._parts.urn){return J===undefined?"":this;}if(J===undefined||J===true){if(!this._parts.path||this._parts.path==="/"){return"";}var q=this.filename();var E=q.lastIndexOf(".");var H,G;if(E===-1){return"";}H=q.substring(E+1);G=(/^[a-z0-9%]+$/i).test(H)?H:"";return J?D.decodePathSegment(G):G;}else{if(J.charAt(0)==="."){J=J.substring(1);}var I=this.suffix();var F;if(!I){if(!J){return this;}this._parts.path+="."+D.recodePath(J);}else{if(!J){F=new RegExp(k("."+I)+"$");}else{F=new RegExp(k(I)+"$");}}if(F){J=D.recodePath(J);this._parts.path=this._parts.path.replace(F,J);}this.build(!p);return this;}};w.segment=function(H,K,q){var J=this._parts.urn?":":"/";var G=this.path();var p=G.substring(0,1)==="/";var I=G.split(J);if(H!==undefined&&typeof H!=="number"){q=K;K=H;H=undefined;}if(H!==undefined&&typeof H!=="number"){throw new Error('Bad segment "'+H+'", must be 0-based integer');}if(p){I.shift();}if(H<0){H=Math.max(I.length+H,0);}if(K===undefined){return H===undefined?I:I[H];
}else{if(H===null||I[H]===undefined){if(v(K)){I=[];for(var E=0,F=K.length;E<F;E++){if(!K[E].length&&(!I.length||!I[I.length-1].length)){continue;}if(I.length&&!I[I.length-1].length){I.pop();}I.push(C(K[E]));}}else{if(K||typeof K==="string"){K=C(K);if(I[I.length-1]===""){I[I.length-1]=K;}else{I.push(K);}}}}else{if(K){I[H]=C(K);}else{I.splice(H,1);}}}if(p){I.unshift("");}return this.path(I.join(J),q);};w.segmentCoded=function(F,H,p){var G,q,E;if(typeof F!=="number"){p=H;H=F;F=undefined;}if(H===undefined){G=this.segment(F,H,p);if(!v(G)){G=G!==undefined?D.decode(G):undefined;}else{for(q=0,E=G.length;q<E;q++){G[q]=D.decode(G[q]);}}return G;}if(!v(H)){H=(typeof H==="string"||H instanceof String)?D.encode(H):H;}else{for(q=0,E=H.length;q<E;q++){H[q]=D.encode(H[q]);}}return this.segment(F,H,p);};var y=w.query;w.query=function(F,p){if(F===true){return D.parseQuery(this._parts.query,this._parts.escapeQuerySpace);}else{if(typeof F==="function"){var q=D.parseQuery(this._parts.query,this._parts.escapeQuerySpace);var E=F.call(this,q);this._parts.query=D.buildQuery(E||q,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);this.build(!p);return this;}else{if(F!==undefined&&typeof F!=="string"){this._parts.query=D.buildQuery(F,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);this.build(!p);return this;}else{return y.call(this,F,p);}}}};w.setQuery=function(F,G,p){var q=D.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if(typeof F==="string"||F instanceof String){q[F]=G!==undefined?G:null;}else{if(typeof F==="object"){for(var E in F){if(t.call(F,E)){q[E]=F[E];}}}else{throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");}}this._parts.query=D.buildQuery(q,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);if(typeof F!=="string"){p=G;}this.build(!p);return this;};w.addQuery=function(E,F,p){var q=D.parseQuery(this._parts.query,this._parts.escapeQuerySpace);D.addQuery(q,E,F===undefined?null:F);this._parts.query=D.buildQuery(q,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);if(typeof E!=="string"){p=F;}this.build(!p);return this;};w.removeQuery=function(E,F,p){var q=D.parseQuery(this._parts.query,this._parts.escapeQuerySpace);D.removeQuery(q,E,F);this._parts.query=D.buildQuery(q,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);if(typeof E!=="string"){p=F;}this.build(!p);return this;};w.hasQuery=function(q,E,F){var p=D.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return D.hasQuery(p,q,E,F);};w.setSearch=w.setQuery;w.addSearch=w.addQuery;w.removeSearch=w.removeQuery;w.hasSearch=w.hasQuery;w.normalize=function(){if(this._parts.urn){return this.normalizeProtocol(false).normalizePath(false).normalizeQuery(false).normalizeFragment(false).build();}return this.normalizeProtocol(false).normalizeHostname(false).normalizePort(false).normalizePath(false).normalizeQuery(false).normalizeFragment(false).build();};w.normalizeProtocol=function(p){if(typeof this._parts.protocol==="string"){this._parts.protocol=this._parts.protocol.toLowerCase();this.build(!p);}return this;};w.normalizeHostname=function(p){if(this._parts.hostname){if(this.is("IDN")&&x){this._parts.hostname=x.toASCII(this._parts.hostname);}else{if(this.is("IPv6")&&u){this._parts.hostname=u.best(this._parts.hostname);}}this._parts.hostname=this._parts.hostname.toLowerCase();this.build(!p);}return this;};w.normalizePort=function(p){if(typeof this._parts.protocol==="string"&&this._parts.port===D.defaultPorts[this._parts.protocol]){this._parts.port=null;this.build(!p);}return this;};w.normalizePath=function(H){var E=this._parts.path;if(!E){return this;}if(this._parts.urn){this._parts.path=D.recodeUrnPath(this._parts.path);this.build(!H);return this;}if(this._parts.path==="/"){return this;}E=D.recodePath(E);var G;var p="";var q,F;if(E.charAt(0)!=="/"){G=true;E="/"+E;}if(E.slice(-3)==="/.."||E.slice(-2)==="/."){E+="/";}E=E.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/");if(G){p=E.substring(1).match(/^(\.\.\/)+/)||"";if(p){p=p[0];}}while(true){q=E.search(/\/\.\.(\/|$)/);if(q===-1){break;}else{if(q===0){E=E.substring(3);continue;}}F=E.substring(0,q).lastIndexOf("/");if(F===-1){F=q;}E=E.substring(0,F)+E.substring(q+3);}if(G&&this.is("relative")){E=p+E.substring(1);}this._parts.path=E;this.build(!H);return this;};w.normalizePathname=w.normalizePath;w.normalizeQuery=function(p){if(typeof this._parts.query==="string"){if(!this._parts.query.length){this._parts.query=null;}else{this.query(D.parseQuery(this._parts.query,this._parts.escapeQuerySpace));}this.build(!p);}return this;};w.normalizeFragment=function(p){if(!this._parts.fragment){this._parts.fragment=null;this.build(!p);}return this;};w.normalizeSearch=w.normalizeQuery;w.normalizeHash=w.normalizeFragment;w.iso8859=function(){var q=D.encode;var p=D.decode;D.encode=escape;D.decode=decodeURIComponent;try{this.normalize();}finally{D.encode=q;D.decode=p;}return this;};w.unicode=function(){var q=D.encode;
var p=D.decode;D.encode=B;D.decode=unescape;try{this.normalize();}finally{D.encode=q;D.decode=p;}return this;};w.readable=function(){var J=this.clone();J.username("").password("").normalize();var I="";if(J._parts.protocol){I+=J._parts.protocol+"://";}if(J._parts.hostname){if(J.is("punycode")&&x){I+=x.toUnicode(J._parts.hostname);if(J._parts.port){I+=":"+J._parts.port;}}else{I+=J.host();}}if(J._parts.hostname&&J._parts.path&&J._parts.path.charAt(0)!=="/"){I+="/";}I+=J.path(true);if(J._parts.query){var G="";for(var p=0,H=J._parts.query.split("&"),F=H.length;p<F;p++){var E=(H[p]||"").split("=");G+="&"+D.decodeQuery(E[0],this._parts.escapeQuerySpace).replace(/&/g,"%26");if(E[1]!==undefined){G+="="+D.decodeQuery(E[1],this._parts.escapeQuerySpace).replace(/&/g,"%26");}}I+="?"+G.substring(1);}I+=D.decodeQuery(J.hash(),true);return I;};w.absoluteTo=function(q){var I=this.clone();var H=["protocol","username","password","hostname","port"];var E,F,G;if(this._parts.urn){throw new Error("URNs do not have any generally defined hierarchical components");}if(!(q instanceof D)){q=new D(q);}if(!I._parts.protocol){I._parts.protocol=q._parts.protocol;}if(this._parts.hostname){return I;}for(F=0;(G=H[F]);F++){I._parts[G]=q._parts[G];}if(!I._parts.path){I._parts.path=q._parts.path;if(!I._parts.query){I._parts.query=q._parts.query;}}else{if(I._parts.path.substring(-2)===".."){I._parts.path+="/";}}if(I.path().charAt(0)!=="/"){E=q.directory();E=E?E:q.path().indexOf("/")===0?"/":"";I._parts.path=(E?(E+"/"):"")+I._parts.path;I.normalizePath();}I.build();return I;};w.relativeTo=function(p){var H=this.clone().normalize();var I,q,F,J,E;if(H._parts.urn){throw new Error("URNs do not have any generally defined hierarchical components");}p=new D(p).normalize();I=H._parts;q=p._parts;J=H.path();E=p.path();if(J.charAt(0)!=="/"){throw new Error("URI is already relative");}if(E.charAt(0)!=="/"){throw new Error("Cannot calculate a URI relative to another relative URI");}if(I.protocol===q.protocol){I.protocol=null;}if(I.username!==q.username||I.password!==q.password){return H.build();}if(I.protocol!==null||I.username!==null||I.password!==null){return H.build();}if(I.hostname===q.hostname&&I.port===q.port){I.hostname=null;I.port=null;}else{return H.build();}if(J===E){I.path="";return H.build();}F=D.commonPath(J,E);if(!F){return H.build();}var G=q.path.substring(F.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");I.path=(G+I.path.substring(F.length))||"./";return H.build();};w.equals=function(K){var E=this.clone();var H=new D(K);var F={};var I={};var p={};var G,J,q;E.normalize();H.normalize();if(E.toString()===H.toString()){return true;}G=E.query();J=H.query();E.query("");H.query("");if(E.toString()!==H.toString()){return false;}if(G.length!==J.length){return false;}F=D.parseQuery(G,this._parts.escapeQuerySpace);I=D.parseQuery(J,this._parts.escapeQuerySpace);for(q in F){if(t.call(F,q)){if(!v(F[q])){if(F[q]!==I[q]){return false;}}else{if(!h(F[q],I[q])){return false;}}p[q]=true;}}for(q in I){if(t.call(I,q)){if(!p[q]){return false;}}}return true;};w.duplicateQueryParameters=function(p){this._parts.duplicateQueryParameters=!!p;return this;};w.escapeQuerySpace=function(p){this._parts.escapeQuerySpace=!!p;return this;};return D;}));(function(b,a){if(b.URI){b.URI.prototype.getSearch=function(d,c){var e=this.search(true);if(e.hasOwnProperty(d)){return e[d];}return c;};}}(typeof window!=="undefined"?window:this,jQuery));(function(){function a(b){b.fn._fadeIn=b.fn.fadeIn;var l=b.noop||function(){};var k=/MSIE/.test(navigator.userAgent);var g=/MSIE 6.0/.test(navigator.userAgent)&&!/MSIE 8.0/.test(navigator.userAgent);var j=document.documentMode||0;var q=b.isFunction(document.createElement("div").style.setExpression);b.blockUI=function(s){h(window,s);};b.unblockUI=function(s){o(window,s);};b.growlUI=function(y,u,x,w){var s=b('<div class="growlUI"></div>');if(y){s.append("<h1>"+y+"</h1>");}if(u){s.append("<h2>"+u+"</h2>");}if(x===undefined){x=3000;}var t=function(z){z=z||{};b.blockUI({message:s,fadeIn:typeof z.fadeIn!=="undefined"?z.fadeIn:700,fadeOut:typeof z.fadeOut!=="undefined"?z.fadeOut:1000,timeout:typeof z.timeout!=="undefined"?z.timeout:x,centerY:false,showOverlay:false,onUnblock:w,css:b.blockUI.defaults.growlCSS});};t();var v=s.css("opacity");s.mouseover(function(){t({fadeIn:0,timeout:30000});var z=b(".blockMsg");z.stop();z.fadeTo(300,1);}).mouseout(function(){b(".blockMsg").fadeOut(1000);});};b.fn.block=function(t){if(this[0]===window){b.blockUI(t);return this;}var s=b.extend({},b.blockUI.defaults,t||{});this.each(function(){var u=b(this);if(s.ignoreIfBlocked&&u.data("blockUI.isBlocked")){return;}u.unblock({fadeOut:0});});return this.each(function(){if(b.css(this,"position")=="static"){this.style.position="relative";b(this).data("blockUI.static",true);}this.style.zoom=1;h(this,t);});};b.fn.unblock=function(s){if(this[0]===window){b.unblockUI(s);return this;}return this.each(function(){o(this,s);});};b.blockUI.version=2.7;b.blockUI.defaults={message:"<h1>Please wait...</h1>",title:null,draggable:true,theme:false,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:0.6,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:0.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:false,baseZ:1000,centerX:true,centerY:true,allowBodyStretch:true,bindEvents:true,constrainTabKey:true,fadeIn:200,fadeOut:400,timeout:0,showOverlay:true,focusInput:true,focusableElements:":input:enabled:visible",onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:false};
var m=null;var n=[];function h(B,N){var y,Q;var F=(B==window);var L=(N&&N.message!==undefined?N.message:undefined);N=b.extend({},b.blockUI.defaults,N||{});if(N.ignoreIfBlocked&&b(B).data("blockUI.isBlocked")){return;}N.overlayCSS=b.extend({},b.blockUI.defaults.overlayCSS,N.overlayCSS||{});y=b.extend({},b.blockUI.defaults.css,N.css||{});if(N.onOverlayClick){N.overlayCSS.cursor="pointer";}Q=b.extend({},b.blockUI.defaults.themedCSS,N.themedCSS||{});L=L===undefined?N.message:L;if(F&&m){o(window,{fadeOut:0});}if(L&&typeof L!="string"&&(L.parentNode||L.jquery)){var M=L.jquery?L[0]:L;var A={};b(B).data("blockUI.history",A);A.el=M;A.parent=M.parentNode;A.display=M.style.display;A.position=M.style.position;if(A.parent){A.parent.removeChild(M);}}b(B).data("blockUI.onUnblock",N.onUnblock);var S=N.baseZ;var I,J,K,O;if(k||N.forceIframe){I=b('<iframe class="blockUI" style="z-index:'+(S++)+';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+N.iframeSrc+'"></iframe>');}else{I=b('<div class="blockUI" style="display:none"></div>');}if(N.theme){J=b('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+(S++)+';display:none"></div>');}else{J=b('<div class="blockUI blockOverlay" style="z-index:'+(S++)+';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>');}if(N.theme&&F){O='<div class="blockUI '+N.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(S+10)+';display:none;position:fixed">';if(N.title){O+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(N.title||"&nbsp;")+"</div>";}O+='<div class="ui-widget-content ui-dialog-content"></div>';O+="</div>";}else{if(N.theme){O='<div class="blockUI '+N.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(S+10)+';display:none;position:absolute">';if(N.title){O+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(N.title||"&nbsp;")+"</div>";}O+='<div class="ui-widget-content ui-dialog-content"></div>';O+="</div>";}else{if(F){O='<div class="blockUI '+N.blockMsgClass+' blockPage" style="z-index:'+(S+10)+';display:none;position:fixed"></div>';}else{O='<div class="blockUI '+N.blockMsgClass+' blockElement" style="z-index:'+(S+10)+';display:none;position:absolute"></div>';}}}K=b(O);if(L){if(N.theme){K.css(Q);K.addClass("ui-widget-content");}else{K.css(y);}}if(!N.theme){J.css(N.overlayCSS);}J.css("position",F?"fixed":"absolute");if(k||N.forceIframe){I.css("opacity",0);}var H=[I,J,K],u=F?b("body"):b(B);b.each(H,function(){this.appendTo(u);});if(N.theme&&N.draggable&&b.fn.draggable){K.draggable({handle:".ui-dialog-titlebar",cancel:"li"});}var C=q&&(!b.support.boxModel||b("object,embed",F?null:B).length>0);if(g||C){if(F&&N.allowBodyStretch&&b.support.boxModel){b("html,body").css("height","100%");}if((g||!b.support.boxModel)&&!F){var P=r(B,"borderTopWidth"),G=r(B,"borderLeftWidth");var E=P?"(0 - "+P+")":0;var D=G?"(0 - "+G+")":0;}b.each(H,function(z,T){var U=T[0].style;U.position="absolute";if(z<2){if(F){U.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+N.quirksmodeOffsetHack+') + "px"');}else{U.setExpression("height",'this.parentNode.offsetHeight + "px"');}if(F){U.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"');}else{U.setExpression("width",'this.parentNode.offsetWidth + "px"');}if(D){U.setExpression("left",D);}if(E){U.setExpression("top",E);}}else{if(N.centerY){if(F){U.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"');}U.marginTop=0;}else{if(!N.centerY&&F){var V=(N.css&&N.css.top)?parseInt(N.css.top,10):0;var t="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+V+') + "px"';U.setExpression("top",t);}}}});}if(L){if(N.theme){K.find(".ui-widget-content").append(L);}else{K.append(L);}if(L.jquery||L.nodeType){b(L).show();}}if((k||N.forceIframe)&&N.showOverlay){I.show();}if(N.fadeIn){var v=N.onBlock?N.onBlock:l;var w=(N.showOverlay&&!L)?v:l;var x=L?v:l;if(N.showOverlay){J._fadeIn(N.fadeIn,w);}if(L){K._fadeIn(N.fadeIn,x);}}else{if(N.showOverlay){J.show();}if(L){K.show();}if(N.onBlock){N.onBlock.bind(K)();}}c(1,B,N);if(F){m=K[0];n=b(N.focusableElements,m);if(N.focusInput){setTimeout(e,20);}}else{d(K[0],N.centerX,N.centerY);}if(N.timeout){var R=setTimeout(function(){if(F){b.unblockUI(N);}else{b(B).unblock(N);}},N.timeout);b(B).data("blockUI.timeout",R);}}function o(v,y){var t;var x=(v==window);var s=b(v);var u=s.data("blockUI.history");var z=s.data("blockUI.timeout");if(z){clearTimeout(z);s.removeData("blockUI.timeout");}y=b.extend({},b.blockUI.defaults,y||{});c(0,v,y);if(y.onUnblock===null){y.onUnblock=s.data("blockUI.onUnblock");
s.removeData("blockUI.onUnblock");}var w;if(x){w=b("body").children().filter(".blockUI").add("body > .blockUI");}else{w=s.find(">.blockUI");}if(y.cursorReset){if(w.length>1){w[1].style.cursor=y.cursorReset;}if(w.length>2){w[2].style.cursor=y.cursorReset;}}if(x){m=n=null;}if(y.fadeOut){t=w.length;w.stop().fadeOut(y.fadeOut,function(){if(--t===0){p(w,u,y,v);}});}else{p(w,u,y,v);}}function p(y,v,z,x){var s=b(x);if(s.data("blockUI.isBlocked")){return;}y.each(function(w,B){if(this.parentNode){this.parentNode.removeChild(this);}});if(v&&v.el){v.el.style.display=v.display;v.el.style.position=v.position;v.el.style.cursor="default";if(v.parent){v.parent.appendChild(v.el);}s.removeData("blockUI.history");}if(s.data("blockUI.static")){s.css("position","static");}if(typeof z.onUnblock=="function"){z.onUnblock(x,z);}var t=b(document.body),A=t.width(),u=t[0].style.width;t.width(A-1).width(A);t[0].style.width=u;}function c(t,u,x){var w=u==window,s=b(u);if(!t&&(w&&!m||!w&&!s.data("blockUI.isBlocked"))){return;}s.data("blockUI.isBlocked",t);if(!w||!x.bindEvents||(t&&!x.showOverlay)){return;}var v="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";if(t){b(document).bind(v,x,f);}else{b(document).unbind(v,f);}}function f(t){if(t.type==="keydown"&&t.keyCode&&t.keyCode==9){if(m&&t.data.constrainTabKey){var u=n;var v=!t.shiftKey&&t.target===u[u.length-1];var s=t.shiftKey&&t.target===u[0];if(v||s){setTimeout(function(){e(s);},10);return false;}}}var w=t.data;var x=b(t.target);if(x.hasClass("blockOverlay")&&w.onOverlayClick){w.onOverlayClick(t);}if(x.parents("div."+w.blockMsgClass).length>0){return true;}return x.parents().children().filter("div.blockUI").length===0;}function e(s){if(!n){return;}var t=n[s===true?n.length-1:0];if(t){t.focus();}}function d(u,B,C){var w=u.parentNode,z=u.style;var v=((w.offsetWidth-u.offsetWidth)/2)-r(w,"borderLeftWidth");var A=((w.offsetHeight-u.offsetHeight)/2)-r(w,"borderTopWidth");if(B){z.left=v>0?(v+"px"):"0";}if(C){z.top=A>0?(A+"px"):"0";}}function r(s,t){return parseInt(b.css(s,t),10)||0;}}if(typeof define==="function"&&define.amd&&define.amd.jQuery){define(["jquery"],a);}else{a(jQuery);}})();(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a);}else{a((typeof(jQuery)!="undefined")?jQuery:window.Zepto);}}(function(a){var d={};d.fileapi=a("<input type='file'/>").get(0).files!==undefined;d.formdata=window.FormData!==undefined;var e=!!a.fn.prop;a.fn.attr2=function(){if(!e){return this.attr.apply(this,arguments);}var g=this.prop.apply(this,arguments);if((g&&g.jquery)||typeof g==="string"){return g;}return this.attr.apply(this,arguments);};a.fn.ajaxSubmit=function(C){if(!this.length){f("ajaxSubmit: skipping submit process - no element selected");return this;}var w,j,H,g=this;if(typeof C=="function"){C={success:C};}else{if(C===undefined){C={};}}w=C.type||this.attr2("method");j=C.url||this.attr2("action");H=(typeof j==="string")?a.trim(j):"";H=H||window.location.href||"";if(H){H=(H.match(/^([^#]+)/)||[])[1];}C=a.extend(true,{url:H,success:a.ajaxSettings.success,type:w||a.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},C);var I={};this.trigger("form-pre-serialize",[this,C,I]);if(I.veto){f("ajaxSubmit: submit vetoed via form-pre-serialize trigger");return this;}if(C.beforeSerialize&&C.beforeSerialize(this,C)===false){f("ajaxSubmit: submit aborted via beforeSerialize callback");return this;}var G=C.traditional;if(G===undefined){G=a.ajaxSettings.traditional;}var n=[];var E,h=this.formToArray(C.semantic,n);if(C.data){C.extraData=C.data;E=a.param(C.data,G);}if(C.beforeSubmit&&C.beforeSubmit(h,this,C)===false){f("ajaxSubmit: submit aborted via beforeSubmit callback");return this;}this.trigger("form-submit-validate",[h,this,C,I]);if(I.veto){f("ajaxSubmit: submit vetoed via form-submit-validate trigger");return this;}var D=a.param(h,G);if(E){D=(D?(D+"&"+E):E);}if(C.type.toUpperCase()=="GET"){C.url+=(C.url.indexOf("?")>=0?"&":"?")+D;C.data=null;}else{C.data=D;}var l=[];if(C.resetForm){l.push(function(){g.resetForm();});}if(C.clearForm){l.push(function(){g.clearForm(C.includeHidden);});}if(!C.dataType&&C.target){var B=C.success||function(){};l.push(function(k){var q=C.replaceTarget?"replaceWith":"html";a(C.target)[q](k).each(B,arguments);});}else{if(C.success){l.push(C.success);}}C.success=function(q,L,M){var k=C.context||this;for(var J=0,K=l.length;J<K;J++){l[J].apply(k,[q,L,M||g,g]);}};if(C.error){var A=C.error;C.error=function(K,J,q){var k=C.context||this;A.apply(k,[K,J,q,g]);};}if(C.complete){var z=C.complete;C.complete=function(J,q){var k=C.context||this;z.apply(k,[J,q,g]);};}var p=a("input[type=file]:enabled",this).filter(function(){return a(this).val()!=="";});var t=p.length>0;var x="multipart/form-data";var y=(g.attr("enctype")==x||g.attr("encoding")==x);var o=d.fileapi&&d.formdata;f("fileAPI :"+o);var F=(t||y)&&!o;var u;if(C.iframe!==false&&(C.iframe||F)){if(C.closeKeepAlive){a.get(C.closeKeepAlive,function(){u=r(h);
});}else{u=r(h);}}else{if((t||y)&&o){u=s(h);}else{u=a.ajax(C);}}g.removeData("jqxhr").data("jqxhr",u);for(var v=0;v<n.length;v++){n[v]=null;}this.trigger("form-submit-notify",[this,C]);return this;function m(k){var M=a.param(k,C.traditional).split("&");var J=M.length;var L=[];var q,K;for(q=0;q<J;q++){M[q]=M[q].replace(/\+/g," ");K=M[q].split("=");L.push([decodeURIComponent(K[0]),decodeURIComponent(K[1])]);}return L;}function s(k){var J=new FormData();for(var K=0;K<k.length;K++){J.append(k[K].name,k[K].value);}if(C.extraData){var M=m(C.extraData);for(K=0;K<M.length;K++){if(M[K]){J.append(M[K][0],M[K][1]);}}}C.data=null;var L=a.extend(true,{},a.ajaxSettings,C,{contentType:false,processData:false,cache:false,type:w||"POST"});if(C.uploadProgress){L.xhr=function(){var N=a.ajaxSettings.xhr();if(N.upload){N.upload.addEventListener("progress",function(O){var P=0;var Q=O.loaded||O.position;var R=O.total;if(O.lengthComputable){P=Math.ceil(Q/R*100);}C.uploadProgress(O,Q,R,P);},false);}return N;};}L.data=null;var q=L.beforeSend;L.beforeSend=function(O,N){if(C.formData){N.data=C.formData;}else{N.data=J;}if(q){q.call(this,O,N);}};return a.ajax(L);}function r(q){var U=g[0],T,Y,ad,V,Z,k,aa,aj,af,ab,ag,ah;var P=a.Deferred();P.abort=function(ak){aj.abort(ak);};if(q){for(Y=0;Y<n.length;Y++){T=a(n[Y]);if(e){T.prop("disabled",false);}else{T.removeAttr("disabled");}}}ad=a.extend(true,{},a.ajaxSettings,C);ad.context=ad.context||ad;Z="jqFormIO"+(new Date().getTime());if(ad.iframeTarget){k=a(ad.iframeTarget);ab=k.attr2("name");if(!ab){k.attr2("name",Z);}else{Z=ab;}}else{k=a('<iframe name="'+Z+'" src="'+ad.iframeSrc+'" />');k.css({position:"absolute",top:"-1000px",left:"-1000px"});}aa=k[0];aj={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(am){var ak=(am==="timeout"?"timeout":"aborted");f("aborting upload... "+ak);this.aborted=1;try{if(aa.contentWindow.document.execCommand){aa.contentWindow.document.execCommand("Stop");}}catch(al){}k.attr("src",ad.iframeSrc);aj.error=ak;if(ad.error){ad.error.call(ad.context,aj,ak,am);}if(V){a.event.trigger("ajaxError",[aj,ad,ak]);}if(ad.complete){ad.complete.call(ad.context,aj,ak);}}};V=ad.global;if(V&&0===a.active++){a.event.trigger("ajaxStart");}if(V){a.event.trigger("ajaxSend",[aj,ad]);}if(ad.beforeSend&&ad.beforeSend.call(ad.context,aj,ad)===false){if(ad.global){a.active--;}P.reject();return P;}if(aj.aborted){P.reject();return P;}af=U.clk;if(af){ab=af.name;if(ab&&!af.disabled){ad.extraData=ad.extraData||{};ad.extraData[ab]=af.value;if(af.type=="image"){ad.extraData[ab+".x"]=U.clk_x;ad.extraData[ab+".y"]=U.clk_y;}}}var L=1;var ae=2;function W(am){var ak=null;try{if(am.contentWindow){ak=am.contentWindow.document;}}catch(al){f("cannot get iframe.contentWindow document: "+al);}if(ak){return ak;}try{ak=am.contentDocument?am.contentDocument:am.document;}catch(al){f("cannot get iframe.contentDocument: "+al);ak=am.document;}return ak;}var N=a("meta[name=csrf-token]").attr("content");var M=a("meta[name=csrf-param]").attr("content");if(M&&N){ad.extraData=ad.extraData||{};ad.extraData[M]=N;}function S(){var at=g.attr2("target"),ak=g.attr2("action"),ap="multipart/form-data",an=g.attr("enctype")||g.attr("encoding")||ap;U.setAttribute("target",Z);if(!w||/post/i.test(w)){U.setAttribute("method","POST");}if(ak!=ad.url){U.setAttribute("action",ad.url);}if(!ad.skipEncodingOverride&&(!w||/post/i.test(w))){g.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"});}if(ad.timeout){ah=setTimeout(function(){ag=true;K(L);},ad.timeout);}function al(){try{var av=W(aa).readyState;f("state = "+av);if(av&&av.toLowerCase()=="uninitialized"){setTimeout(al,50);}}catch(au){f("Server abort: ",au," (",au.name,")");K(ae);if(ah){clearTimeout(ah);}ah=undefined;}}var ao=[];try{if(ad.extraData){for(var aq in ad.extraData){if(ad.extraData.hasOwnProperty(aq)){if(a.isPlainObject(ad.extraData[aq])&&ad.extraData[aq].hasOwnProperty("name")&&ad.extraData[aq].hasOwnProperty("value")){ao.push(a('<input type="hidden" name="'+ad.extraData[aq].name+'">').val(ad.extraData[aq].value).appendTo(U)[0]);}else{ao.push(a('<input type="hidden" name="'+aq+'">').val(ad.extraData[aq]).appendTo(U)[0]);}}}}if(!ad.iframeTarget){k.appendTo("body");}if(aa.attachEvent){aa.attachEvent("onload",K);}else{aa.addEventListener("load",K,false);}setTimeout(al,15);try{U.submit();}catch(am){var ar=document.createElement("form").submit;ar.apply(U);}}finally{U.setAttribute("action",ak);U.setAttribute("enctype",an);if(at){U.setAttribute("target",at);}else{g.removeAttr("target");}a(ao).remove();}}if(ad.forceSync){S();}else{setTimeout(S,10);}var O,Q,R=50,J;function K(an){if(aj.aborted||J){return;}Q=W(aa);if(!Q){f("cannot access response document");an=ae;}if(an===L&&aj){aj.abort("timeout");P.reject(aj,"timeout");return;}else{if(an==ae&&aj){aj.abort("server abort");P.reject(aj,"error","server abort");return;}}if(!Q||Q.location.href==ad.iframeSrc){if(!ag){return;
}}if(aa.detachEvent){aa.detachEvent("onload",K);}else{aa.removeEventListener("load",K,false);}var au="success",ap;try{if(ag){throw"timeout";}var aq=ad.dataType=="xml"||Q.XMLDocument||a.isXMLDoc(Q);f("isXml="+aq);if(!aq&&window.opera&&(Q.body===null||!Q.body.innerHTML)){if(--R){f("requeing onLoad callback, DOM not available");setTimeout(K,250);return;}}var al=Q.body?Q.body:Q.documentElement;aj.responseText=al?al.innerHTML:null;aj.responseXML=Q.XMLDocument?Q.XMLDocument:Q;if(aq){ad.dataType="xml";}aj.getResponseHeader=function(aw){var ax={"content-type":ad.dataType};return ax[aw.toLowerCase()];};if(al){aj.status=Number(al.getAttribute("status"))||aj.status;aj.statusText=al.getAttribute("statusText")||aj.statusText;}var am=(ad.dataType||"").toLowerCase();var at=/(json|script|text)/.test(am);if(at||ad.textarea){var av=Q.getElementsByTagName("textarea")[0];if(av){aj.responseText=av.value;aj.status=Number(av.getAttribute("status"))||aj.status;aj.statusText=av.getAttribute("statusText")||aj.statusText;}else{if(at){var ar=Q.getElementsByTagName("pre")[0];var ak=Q.getElementsByTagName("body")[0];if(ar){aj.responseText=ar.textContent?ar.textContent:ar.innerText;}else{if(ak){aj.responseText=ak.textContent?ak.textContent:ak.innerText;}}}}}else{if(am=="xml"&&!aj.responseXML&&aj.responseText){aj.responseXML=ai(aj.responseText);}}try{O=X(aj,am,ad);}catch(ao){au="parsererror";aj.error=ap=(ao||au);}}catch(ao){f("error caught: ",ao);au="error";aj.error=ap=(ao||au);}if(aj.aborted){f("upload aborted");au=null;}if(aj.status){au=(aj.status>=200&&aj.status<300||aj.status===304)?"success":"error";}if(au==="success"){if(ad.success){ad.success.call(ad.context,O,"success",aj);}P.resolve(aj.responseText,"success",aj);if(V){a.event.trigger("ajaxSuccess",[aj,ad]);}}else{if(au){if(ap===undefined){ap=aj.statusText;}if(ad.error){ad.error.call(ad.context,aj,au,ap);}P.reject(aj,"error",ap);if(V){a.event.trigger("ajaxError",[aj,ad,ap]);}}}if(V){a.event.trigger("ajaxComplete",[aj,ad]);}if(V&&!--a.active){a.event.trigger("ajaxStop");}if(ad.complete){ad.complete.call(ad.context,aj,au);}J=true;if(ad.timeout){clearTimeout(ah);}setTimeout(function(){if(!ad.iframeTarget){k.remove();}else{k.attr("src",ad.iframeSrc);}aj.responseXML=null;},100);}var ai=a.parseXML||function(al,ak){if(window.ActiveXObject){ak=new ActiveXObject("Microsoft.XMLDOM");ak.async="false";ak.loadXML(al);}else{ak=(new DOMParser()).parseFromString(al,"text/xml");}return(ak&&ak.documentElement&&ak.documentElement.nodeName!="parsererror")?ak:null;};var ac=a.parseJSON||function(ak){return window["eval"]("("+ak+")");};var X=function(ao,an,am){var ak=ao.getResponseHeader("content-type")||"",ap=an==="xml"||!an&&ak.indexOf("xml")>=0,al=ap?ao.responseXML:ao.responseText;if(ap&&al.documentElement.nodeName==="parsererror"){if(a.error){a.error("parsererror");}}if(am&&am.dataFilter){al=am.dataFilter(al,an);}if(typeof al==="string"){if(an==="json"||!an&&ak.indexOf("json")>=0){al=ac(al);}else{if(an==="script"||!an&&ak.indexOf("javascript")>=0){a.globalEval(al);}}}return al;};return P;}};a.fn.ajaxForm=function(h){h=h||{};h.delegation=h.delegation&&a.isFunction(a.fn.on);if(!h.delegation&&this.length===0){var g={s:this.selector,c:this.context};if(!a.isReady&&g.s){f("DOM not ready, queuing ajaxForm");a(function(){a(g.s,g.c).ajaxForm(h);});return this;}f("terminating; zero elements found by selector"+(a.isReady?"":" (DOM not ready)"));return this;}if(h.delegation){a(document).off("submit.form-plugin",this.selector,c).off("click.form-plugin",this.selector,b).on("submit.form-plugin",this.selector,h,c).on("click.form-plugin",this.selector,h,b);return this;}return this.ajaxFormUnbind().bind("submit.form-plugin",h,c).bind("click.form-plugin",h,b);};function c(g){var h=g.data;if(!g.isDefaultPrevented()){g.preventDefault();a(g.target).ajaxSubmit(h);}}function b(h){var m=h.target;var g=a(m);if(!(g.is("[type=submit],[type=image]"))){var l=g.closest("[type=submit]");if(l.length===0){return;}m=l[0];}var j=this;j.clk=m;if(m.type=="image"){if(h.offsetX!==undefined){j.clk_x=h.offsetX;j.clk_y=h.offsetY;}else{if(typeof a.fn.offset=="function"){var k=g.offset();j.clk_x=h.pageX-k.left;j.clk_y=h.pageY-k.top;}else{j.clk_x=h.pageX-m.offsetLeft;j.clk_y=h.pageY-m.offsetTop;}}}setTimeout(function(){j.clk=j.clk_x=j.clk_y=null;},100);}a.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin");};a.fn.formToArray=function(z,l){var h=[];if(this.length===0){return h;}var q=this[0];var r=this.attr("id");var m=z?q.getElementsByTagName("*"):q.elements;var o;if(m&&!/MSIE [678]/.test(navigator.userAgent)){m=a(m).get();}if(r){o=a(':input[form="'+r+'"]').get();if(o.length){m=(m||[]).concat(o);}}if(!m||!m.length){return h;}var s,u,y,A,k,x,w;for(s=0,x=m.length;s<x;s++){k=m[s];y=k.name;if(!y||k.disabled){continue;}if(z&&q.clk&&k.type=="image"){if(q.clk==k){h.push({name:y,value:a(k).val(),type:k.type});h.push({name:y+".x",value:q.clk_x},{name:y+".y",value:q.clk_y});}continue;}A=a.fieldValue(k,true);if(A&&A.constructor==Array){if(l){l.push(k);
}for(u=0,w=A.length;u<w;u++){h.push({name:y,value:A[u]});}}else{if(d.fileapi&&k.type=="file"){if(l){l.push(k);}var p=k.files;if(p.length){for(u=0;u<p.length;u++){h.push({name:y,value:p[u],type:k.type});}}else{h.push({name:y,value:"",type:k.type});}}else{if(A!==null&&typeof A!="undefined"){if(l){l.push(k);}h.push({name:y,value:A,type:k.type,required:k.required});}}}}if(!z&&q.clk){var g=a(q.clk),t=g[0];y=t.name;if(y&&!t.disabled&&t.type=="image"){h.push({name:y,value:g.val()});h.push({name:y+".x",value:q.clk_x},{name:y+".y",value:q.clk_y});}}return h;};a.fn.formSerialize=function(g){return a.param(this.formToArray(g));};a.fn.fieldSerialize=function(h){var g=[];this.each(function(){var l=this.name;if(!l){return;}var m=a.fieldValue(this,h);if(m&&m.constructor==Array){for(var j=0,k=m.length;j<k;j++){g.push({name:l,value:m[j]});}}else{if(m!==null&&typeof m!="undefined"){g.push({name:this.name,value:m});}}});return a.param(g);};a.fn.fieldValue=function(k){for(var m=[],h=0,j=this.length;h<j;h++){var g=this[h];var l=a.fieldValue(g,k);if(l===null||typeof l=="undefined"||(l.constructor==Array&&!l.length)){continue;}if(l.constructor==Array){a.merge(m,l);}else{m.push(l);}}return m;};a.fieldValue=function(h,r){var m=h.name,s=h.type,u=h.tagName.toLowerCase();if(r===undefined){r=true;}if(r&&(!m||h.disabled||s=="reset"||s=="button"||(s=="checkbox"||s=="radio")&&!h.checked||(s=="submit"||s=="image")&&h.form&&h.form.clk!=h||u=="select"&&h.selectedIndex==-1)){return null;}if(u=="select"){var k=h.selectedIndex;if(k<0){return null;}var g=[],q=h.options;var o=(s=="select-one");var l=(o?k+1:q.length);for(var j=(o?k:0);j<l;j++){var p=q[j];if(p.selected){var w=p.value;if(!w){w=(p.attributes&&p.attributes.value&&!(p.attributes.value.specified))?p.text:p.value;}if(o){return w;}g.push(w);}}return g;}return a(h).val();};a.fn.clearForm=function(g){return this.each(function(){a("input,select,textarea",this).clearFields(g);});};a.fn.clearFields=a.fn.clearInputs=function(g){var h=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var j=this.type,k=this.tagName.toLowerCase();if(h.test(j)||k=="textarea"){this.value="";}else{if(j=="checkbox"||j=="radio"){this.checked=false;}else{if(k=="select"){this.selectedIndex=-1;}else{if(j=="file"){if(/MSIE/.test(navigator.userAgent)){a(this).replaceWith(a(this).clone(true));}else{a(this).val("");}}else{if(g){if((g===true&&/hidden/.test(j))||(typeof g=="string"&&a(this).is(g))){this.value="";}}}}}}});};a.fn.resetForm=function(){return this.each(function(){if(typeof this.reset=="function"||(typeof this.reset=="object"&&!this.reset.nodeType)){this.reset();}});};a.fn.enable=function(g){if(g===undefined){g=true;}return this.each(function(){this.disabled=!g;});};a.fn.selected=function(g){if(g===undefined){g=true;}return this.each(function(){var j=this.type;if(j=="checkbox"||j=="radio"){this.checked=g;}else{if(this.tagName.toLowerCase()=="option"){var h=a(this).parent("select");if(g&&h[0]&&h[0].type=="select-one"){h.find("option").selected(false);}this.selected=g;}}});};a.fn.ajaxSubmit.debug=false;function f(){if(!a.fn.ajaxSubmit.debug){return;}var g="[jquery.form] "+Array.prototype.join.call(arguments,"");if(window.console&&window.console.log){window.console.log(g);}else{if(window.opera&&window.opera.postError){window.opera.postError(g);}}}}));(function(a){a.caretTo=function(b,c){if(b.createTextRange){var d=b.createTextRange();d.move("character",c);d.select();}else{if(b.selectionStart!=null){b.focus();b.setSelectionRange(c,c);}}};a.caretPos=function(c){if("selection" in document){var d=c.createTextRange();try{d.setEndPoint("EndToStart",document.selection.createRange());}catch(b){return 0;}return d.text.length;}else{if(c.selectionStart!=null){return c.selectionStart;}}};a.fn.caret=function(b,c){if(typeof(b)==="undefined"){return a.caretPos(this.get(0));}return this.queue(function(e){if(isNaN(b)){var d=a(this).val().indexOf(b);if(c===true){d+=b.length;}else{if(typeof(c)!=="undefined"){d+=c;}}a.caretTo(this,d);}else{a.caretTo(this,b);}e();});};a.fn.caretToStart=function(){return this.caret(0);};a.fn.caretToEnd=function(){return this.queue(function(b){a.caretTo(this,a(this).val().length);b();});};}(jQuery));(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a);}else{if(typeof exports==="object"){module.exports=a(require("jquery"));}else{a(jQuery);}}}(function(a){var f=/\+/g;function d(j){return b.raw?j:encodeURIComponent(j);}function c(j){return b.raw?j:decodeURIComponent(j);}function h(j){return d(b.json?JSON.stringify(j):String(j));}function e(k){if(k.indexOf('"')===0){k=k.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\");}try{k=decodeURIComponent(k.replace(f," "));return b.json?JSON.parse(k):k;}catch(j){}}function g(k,j){var l=b.raw?k:e(k);return a.isFunction(j)?j(l):l;}var b=a.cookie=function(o,w,r){if(arguments.length>1&&!a.isFunction(w)){r=a.extend({},b.defaults,r);if(typeof r.expires==="number"){var m=r.expires,v=r.expires=new Date();
v.setMilliseconds(v.getMilliseconds()+m*86400000);}return(document.cookie=[d(o),"=",h(w),r.expires?"; expires="+r.expires.toUTCString():"",r.path?"; path="+r.path:"",r.domain?"; domain="+r.domain:"",r.secure?"; secure":""].join(""));}var u=o?undefined:{},k=document.cookie?document.cookie.split("; "):[],n=0,p=k.length;for(;n<p;n++){var s=k[n].split("="),q=c(s.shift()),j=s.join("=");if(o===q){u=g(j,w);break;}if(!o&&(j=g(j))!==undefined){u[q]=j;}}return u;};b.defaults={};a.removeCookie=function(j,k){a.cookie(j,"",a.extend({},k,{expires:-1}));return !a.cookie(j);};}));(function(f){var a,h,k,g,l,e,d,b=true,n="v1.00.0",m="JsUtils";if(f.gettext===undefined){f.gettext=function(j){if(j==undefined){return"";}return j;};}function c(o){var j=f.JU._versionQueue.indexOf(o);if(j>-1){f.JU._versionQueue.splice(j,1);}}if(!f.JU&&f.hasOwnProperty("JU_autoPopulateGlobal")){b=!!f.JU_autoPopulateGlobal;}f.JU=f.JU||{_repo:[],_versionQueue:[],_autoPopulateGlobal:b,_version:n,activate:function(r,s){var o,j,p=f.JU.get(s),q;if(!p||!r){return false;}c(s);f.JU._versionQueue.push(p.version);for(q in p){if(p.hasOwnProperty(q)){r[q]=p[q];}}return true;},deactivate:function(r,s){if(!r){return false;}var q=false,o,j,p;if(s=="*"){q=true;s=null;}o=f.JU.get(s);if(!o){return false;}for(p in o){if(o.hasOwnProperty(p)){delete r[p];}}return true;},publish:function(p,q,o){var r=p.version,j=f.JU._repo;if(f.JU.get(r)&&o){f.JU.remove(r);}if(!f.JU.get(r)){j.push(p);j.sort(function(s,t){if("".localeCompare){return s.toString().localeCompare(t.toString());}if(s.toString()<t.toString()){return -1;}if(s.toString()>t.toString()){return 1;}return 0;});}if(q){f.JU.activate(f,r);}},get:function(p){var o,j=f.JU._repo;if(!j){return null;}if(!p){return j[j.length-1];}for(o=0;o<j.length;o++){if(j[o].version==p){return j[o];}}return null;},remove:function(q){var o,j=f.JU._repo,p;if(!j){return null;}if(!q){p=f.JU.get();if(!p){return null;}q=p.version;}for(o=0;o<j.length;o++){if(j[o].version==q){c(q);f.JU.deactivate(f,q);return j.splice(o,1);}}return null;},revert:function(p){var j=f.JU._repo,q=f.JU._versionQueue,r,o;if(j.length>0&&q.length>0){r=q.pop();while(q.length){o=f.JU.get(r);if(!o){r=q.pop();continue;}f.JU.deactivate(f,r);if(p&&q.length){r=q[q.length-1];f.JU.activate(f,r);}return o;}}return null;}};a={_globalVars:["Arr","Dt","Fn","Pref","Slct","Stl","Str","Tmr","Typ","UI","UI.Bs","UI.Patterns","Utl"],version:n,type:m};for(h=0;h<a._globalVars.length;h++){g=a._globalVars[h];if(g){if(g.indexOf(".")==-1){a[g]={version:n,"class":g,type:m};}else{d=a;l=g.split(".");for(k=0;k<l.length;k++){e=l[k];if(!d.hasOwnProperty(e)){d[e]={version:n,"class":e,type:m};}d=d[e];}}}}f.JU.__JU=a;}(typeof window!=="undefined"?window:this));(function(a,b){b.run=function(d,c,e){return setTimeout(function(){d.call(e||this);},c);};}(typeof window!=="undefined"?window:this,JU.__JU.Tmr));(function(h,a,g){var c=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],b=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],d=["Thứ Hai","Thứ Ba","Thứ Tư","Thứ Năm","Thứ Sáu","Thứ Bảy","Chúa Nhật"],f=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],e=["January","February","March","April","May","June","July","August","September","October","November","December"];g.getDateParts=function(k){var r={},p=k.getDate(),u=k.getDay(),m=k.getHours(),q=k.getMonth(),v=k.getFullYear(),l=m<=12?m:m-12,s=k.getTimezoneOffset()/60,t=s<0?"-":"+";l=l==0?12:l;s=Math.abs(s);r.d=g.padZero(p);r.D=c[u];r.j=p;r.l=b[u];r.N=d[u];r.F=e[q];r.m=g.padZero(q+1);r.M=f[q];r.n=q+1;r.T="Tháng "+(q+1);r.Y=v;r.y=v.toString().substring(2);r.a=m<12?"am":"pm";r.A=m<12?"AM":"PM";r.g=l;r.G=m;r.h=g.padZero(l);r.H=g.padZero(m);r.i=g.padZero(k.getMinutes());r.s=g.padZero(k.getSeconds());r.O=t+g.padZero(s)+"00";r.P=t+g.padZero(s)+":00";r.c=r.Y+"-"+r.m+"-"+r.d+" "+r.H+":"+r.i+":"+r.s+r.P;r.r=r.D+", "+r.j+" "+r.M+" "+r.Y+" "+r.H+":"+r.i+":"+r.s+" "+r.O;r.q=r.Y+"-"+r.m+"-"+r.d+" "+r.H+":"+r.i+":"+r.s;r.o=r.Y+"-"+r.m+"-"+r.d;r.t=r.g+":"+r.i+r.a;return r;};g.getUtcParts=function(j){var l=g.toUtc(j),k=g.getDateParts(l);k.O="+0000";k.P="+00:00";k.c=k.c.substring(0,19)+k.O;k.r=k.r.substring(0,26)+k.P;return k;};g.toUtc=function(j){var k=j.getTimezoneOffset()*60000;return new Date(j.getTime()+k);};g.isSameDate=function(j,k){return j.getFullYear()==k.getFullYear()&&j.getMonth()==k.getMonth()&&j.getDate()==k.getDate();};g.epochSameDate=function(l,m){var j=new Date(l),k=new Date(m);return g.isSameDate(j,k);};g.padZero=function(j){j=j.toString();return j.length==2?j:"0"+j;};g.isDate=function(j){return Object.prototype.toString.call(j)==="[object Date]";};g.isValid=function(j){if(g.isDate(j)){return !isNaN(j.getTime());}return false;};g.format=function(j,k){if(!g.isValid(j)){return k;}var l=g.getDateParts(j),m=k.replace(/(\\?)([dDjlNFmMnTYyaAgGhHisOPcrqot])/g,function(p,o,n){if(!o){return l[n];}return n;});m=m.replace(/\\([a-z])/gi,"$1");return m;};}(typeof window!=="undefined"?window:this,jQuery,JU.__JU.Dt));(function(c,d){function a(e){return Object.prototype.toString.call(e)==="[object Array]";
}function b(e){if(typeof e=="number"||typeof e=="string"){var f=Number(e);return isNaN(f)?false:f>=0;}return false;}d.getAttr=function(l,e,h){var f,j,k,g;if(l&&e!=undefined&&e.length>0){if(e.indexOf(".")==-1){if(l.hasOwnProperty(e)){return l[e];}return h;}else{f=e.split(".");k=l;for(j=0;j<f.length;j++){g=f[j];if(k.hasOwnProperty(g)){k=k[g];if(j==f.length-1){return k;}}else{return h;}}}}return h;};d.setAttr=function(l,f,n,m){var g,j,k,e,h;f=f==undefined?"":f.toString();if(l&&f.length>0){if(f.indexOf(".")==-1){if(!m||!l.hasOwnProperty(f)){if(a(l)){if(b(f)){e=Number(f);if(e>=l.length&&e>0){for(j=l.length;j<e;j++){l.push(null);}l.push(n);return true;}l.splice(e,1,n);return true;}}else{l[f]=n;return true;}}}else{g=f.split(".");k=l;for(j=0;j<g.length;j++){h=g[j];if(j<g.length-1){d.setAttr(k,h,{},true);}else{return d.setAttr(k,h,n,m);}k=d.getAttr(k,h,undefined);}}}return false;};}(typeof window!=="undefined"?window:this,JU.__JU.Utl));(function(b,a,c){c.isJquery=function(d){return d instanceof jQuery;};c.isObj=function(d){return a.type(d)==="object";};c.isStr=function(d){return a.type(d)==="string";};c.isFunc=function(d){return a.type(d)==="function";};c.isRegex=function(d){return a.type(d)==="regexp";};c.isNumber=function(d){return a.type(d)==="number";};c.isInt=function(d){return c.isNumber(d)&&d%1===0;};c.isFloat=function(d){return c.isNumber(d)&&!c.isInt(d);};c.isDate=function(d){return a.type(d)==="date";};c.isBool=function(d){return a.type(d)==="boolean";};c.isArray=function(d){return a.type(d)=="array";};c.isNode=function(d){return typeof Node==="object"?d instanceof Node:d&&typeof d==="object"&&typeof d.nodeType==="number"&&typeof d.nodeName==="string";};c.isElement=function(d){return typeof HTMLElement==="object"?d instanceof HTMLElement:d&&typeof d==="object"&&d!==null&&d.nodeType===1&&typeof d.nodeName==="string";};c.isAjaxCommand=function(d){return !!(d!=undefined&&d!=false&&!c.isStr(d)&&d.isAjaxCommand&&d.options!=undefined&&d.displayMethod!=undefined&&d.command!=undefined);};}(typeof window!=="undefined"?window:this,jQuery,JU.__JU.Typ));(function(c,a,b){b.isArray=function(d){return a.type(d)=="array";};b.isProp=function(d,e){return d.hasOwnProperty(e);};b.each=function(d,e){var f=0,g,h;for(g in d){if(d.hasOwnProperty(g)){h=e.call(d,d[g],g,f);if(h===false){break;}f++;}}};b.eachJq=function(f,d){var e,h,g;if(f==undefined||!(f instanceof jQuery)){return null;}for(e=0,g=f.length;e<g;e++){h=d.call(f,f.eq(e),f.get(e),e);if(h===false){break;}}};b.range=function(f,e,g){if(e==undefined){e=f;f=0;}if(g==undefined){g=1;}var d=[],h=f;while(h<e){d.push(h);h+=g;}return d;};b.implode=function(d,e){e=e==undefined?", ":e;return d.join(e);};b.chop=function(d,f){var g=[],e;while(d.length){e=d.splice(0,f);g.push(e);}return g;};}(typeof window!=="undefined"?window:this,jQuery,JU.__JU.Arr));(function(c,a,b){b.call=function(f,g,d){var e=[].slice.call(arguments).splice(2);return b.apply(f,g,e);};b.apply=function(e,f,d){if(e!=undefined&&a.type(e)==="function"){if(d==undefined){d=[];}else{if(a.type(d)!="array"){d=[d];}}return e.apply(f,d);}};b.callByName=function(h,f,d){if(h==undefined||!h){return;}f=f||c;var e=[].slice.call(arguments).splice(2),k=h.split("."),g=k.pop(),j;for(j=0;j<k.length;j++){f=f[k[j]];if(f==undefined){return;}}if(f[g]&&a.isFunction(f[g])){return f[g].apply(f,e);}};b.applyByName=function(g,e,d){if(g==undefined||!g){return;}e=e||c;var j=g.split("."),f=j.pop(),h;for(h=0;h<j.length;h++){e=e[j[h]];if(e==undefined){return;}}if(e[f]&&a.isFunction(e[f])){return e[f].apply(e,d);}};b.chain=function(h,e,d){var g;d=Array.prototype.splice.call(arguments,2);for(g in d){if(d.hasOwnProperty(g)){if(g!=undefined&&a.type(g)==="function"){g.apply(h,e);}}}};}(typeof window!=="undefined"?window:this,jQuery,JU.__JU.Fn));(function(b,a,c){c.add=function(d){if(a.isArray(d)){a.each(d,function(f,e){a('<link href="">').attr("href",e).appendTo("head");});}else{if(a.type(d)==="string"){if(d.indexOf("http")==0){c.add([d]);}else{a('<style type="text/css">'+d+"</style>").appendTo("head");}}}};}(typeof window!=="undefined"?window:this,jQuery,JU.__JU.Stl));(function(b,a,c){c.empty=function(d){return !!(d==undefined||d.length===0||c.trim(d).length===0||!d);};c.equals=function(e,f,d){if(e==undefined||f==undefined){return false;}if(d){return e==f;}return e.toLowerCase()==f.toLowerCase();};c.boolVal=function(d){if(c.empty(d)){return false;}d=c.trim(d).toLowerCase();if(d=="0"||d=="0.0"||d=="false"){return false;}return !!d;};c.regexEscape=function(e){if(c.empty(e)){return"";}if(a.type(e)==="string"){return e.replace(/([.?*+\^$\[\]\\(){}|\-])/g,"\\$1");}else{if(a.isArray(e)){var d=[];a.each(e,function(f,g){d.push(c.regexEscape(g));});return d;}}return e;};c.startsWith=function(f,e,d){if(d){return f.indexOf(e)===0;}return f.toLowerCase().indexOf(e.toLowerCase())===0;};c.endsWith=function(h,g,e){var f=h.length-g.length;if(e){return f>=0&&h.lastIndexOf(g)===f;}return f>=0&&h.toLowerCase().lastIndexOf(g.toLowerCase())===f;};c.contains=function(f,e,d){if(c.empty(f)||c.empty(e)){return false;
}if(d){return f.indexOf(e)>-1;}return f.toLowerCase().indexOf(e.toLowerCase())>-1;};c.containsAll=function(g,f,d){var e=0;if(a.isArray(f)){for(e=0;e<f.length;e++){if(!c.contains(g,f[e],d)){return false;}}return true;}return c.contains(g,f,d);};c.containsAny=function(g,f,d){var e;if(a.isArray(f)){for(e=0;e<f.length;e++){if(c.contains(g,f[e],d)){return true;}}return false;}return c.contains(g,f,d);};c.isString=function(d){return a.type(d)==="string";};c.trim=function(e,d){if(!c.isString(e)){return e;}if(d==undefined||d==" "){if(String.prototype.trim){return String.prototype.trim.call(e);}return e.replace(/^\s+/,"").replace(/\s+$/,"");}return c.trimStart(c.trimEnd(e,d),d);};c.trimStart=function(g,d){if(d==undefined||d==""){return g.replace(/^\s+/,"");}var h=d,e,f;if(!a.isArray(d)){h=[d];}h=c.regexEscape(h).join("|");e="^("+h+"|s)+";e=new RegExp(e,"g");f=g.replace(e,"");return f;};c.trimEnd=function(g,d){if(d==undefined){return g.replace(/\s+$/,"");}var h=d,e,f;if(!a.isArray(d)){h=[d];}h=c.regexEscape(h).join("|");e="("+h+"|s)+$";e=new RegExp(e,"g");f=g.replace(e,"");return f;};c.subStr=function(f,d,e){if(f==undefined){return"";}e=e||0;if(Math.abs(d)>f.length){return f;}if(d>-1){if(e>0&&(d+e)<f.length){return f.substring(d,d+e);}return f.substring(d);}var g=f.length+d;if(e>0&&(g+e)<f.length){return f.substring(g,g+e);}return f.substring(g);};c.subCount=function(e,f,d){f=c.regexEscape(f);if(d){return e.split(f).length-1;}return e.toLowerCase().split(f.toLowerCase()).length-1;};c.repeat=function(g,d){var f="",e;for(e=0;e<d;e++){f+=g;}return f;};c.padLeft=function(e,d,f){return e.length>=f?e:c.repeat(d,(f-e.length)/d.length)+e;};c.padRight=function(e,d,f){return e.length>=f?e:e+c.repeat(d,(f-e.length)/d.length);};c.pad=function(f,e,g,d){if(d){return c.padRight(f,e,g);}return c.padLeft(f,e,g);};c.stripTags=function(d){return d.replace(/<\/?[^>]+>/gi,"");};c.escapeHTML=function(d){d=d.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");return d;};c.unescapeHTML=function(d){return c.stripTags(d).replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">");};c.stripViet=function(d){if(c.empty(d)){return d;}d=d.replace(/[\u00E0\u00E1\u00E2\u00E3\u0103\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7]/g,"a");d=d.replace(/[\u00F2\u00F3\u00F4\u00F5\u01A1\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3]/g,"o");d=d.replace(/[\u00E8\u00E9\u00EA\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7]/g,"e");d=d.replace(/[\u00F9\u00FA\u0169\u01B0\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1]/g,"u");d=d.replace(/[\u00EC\u00ED\u0129\u1EC9\u1ECB]/g,"i");d=d.replace(/[\u00FD\u1EF3\u1EF5\u1EF7\u1EF9]/g,"y");d=d.replace(/[\u0111\u00F0\u0110]/g,"d");return d;};c.multiLines=function(e,d){d=Array.prototype.splice.call(arguments,1);return d.join(e);};c.parseJson=function(f,d){d=d===undefined?false:d;if(c.empty(f)){return d;}try{return a.parseJSON(f);}catch(e){return d;}};c.escapeAttribute=function(d){return d.replace(/"/g,'\\"');};c.reverse=function(d){if(d){return d.split("").reverse().join("");}return d;};c.matchAll=function(h,f,d){var e,g=[];d=d||0;if(!h){return[];}while(e=f.exec(h)){g.push(e[d]);}return g;};c.chop=function(f,d){var e;if(!f){return[];}e=new RegExp(".{1,"+d+"}","g");return f.match(e);};}(typeof window!=="undefined"?window:this,jQuery,JU.__JU.Str));(function(d,a,e,f){e.getSelectedValues=function(l){var h=a(l),j=h.find("option:selected"),k=[],g;if(h.is("[multiple]")){j.each(function(n,m){k.push(m.value);});return k;}g=j.first();if(g.length){return g.val();}return null;};function b(h){var g=a('<select multiple="multiple"></select>');a.each(h,function(l,m){var k,j;if(m.hasOwnProperty("optGroup")){k=a("<optgroup></optgroup>").attr("label",m.label);if(m.id!=undefined){k.attr("id",m.id);}if(m.options!=undefined&&m.options.length){k.append(b(m.options));}g.append(k);return;}j=a("<option></option>").attr("value",m.value).text(m.name);if(m.id!=undefined){j.attr("id",m.id);}if(m.selected===true){j.attr("selected","selected");}g.append(j);});return g.children();}e.addOptions=function(k,j){var h=a(k),g=b(j);h.append(g);};function c(l,j,g,h){var k=false;a(l).find("option").each(function(n,o){var m=a(o);if(g){if(f.equals(m.val(),j,h)){k=m;return false;}}else{if(f.equals(m.text(),j,h)){k=m;return false;}}});return k;}e.getOptionByValue=function(h,j,g){return c(h,j,true,g);};e.getOptionByText=function(h,j,g){return c(h,j,false,g);};e.removeByValue=function(j,k,h){var g=e.getOptionByValue(j,k,h);if(g){g.remove();}};e.removeByText=function(j,k,h){var g=e.getOptionByText(j,k,h);if(g){g.remove();}};e.selectByValue=function(j,k,h){var g=e.getOptionByValue(j,k,h);if(g){g.prop("selected",true);return true;}return false;};e.selectByText=function(j,k,h){var g=e.getOptionByText(j,k,h);if(g){g.prop("selected",true);return true;}return false;};e.selectAll=function(g){a(g).find("option").prop("selected",true);};e.selectNone=function(g){a(g).find("option").prop("selected",false);};e.isEmpty=function(g){return !a(g).find("option").length;
};}(typeof window!=="undefined"?window:this,jQuery,JU.__JU.Slct,JU.__JU.Str));(function(b,a,c){c.toHex=function(f){var e="",d;for(d=0;d<f.length;d++){e+=f.charCodeAt(d).toString(16);}return e;};c.fromHex=function(d){var f="",e;for(e=0;e<d.length;e+=2){f+=String.fromCharCode(parseInt(d.substr(e,2),16));}return f;};c.format=function(e,d){d=Array.prototype.splice.call(arguments,1);e=e.replace(/\{(\d+)(:([^}]+?))?}/g,function(h,g,f,j){if(g<d.length&&d[g]!=undefined){if(!f){return d[g];}return c.formatObject(d[g],j);}return h;});e=e.replace(/\{(\d+)\.([a-zA-Z0-9_]+)(:([^}]+?))?}/g,function(j,g,h,f,k){if(g<d.length&&d[g]!=undefined&&d[g].hasOwnProperty(h)){if(!f){return d[g][h];}return c.formatObject(d[g][h],k);}return j;});return e;};c.formatObject=function(e,d){if(e==undefined){return"";}if(Dt.isValid(e)){return Dt.format(e,d);}return e.toString();};}(typeof window!=="undefined"?window:this,jQuery,JU.__JU.Str));(function(c,a,d,e){var b={expires:90,path:"/",secure:false};d.set=function(f,j,h){var g=a.extend({},b,h);if(j==undefined){a.removeCookie(f,g);}else{a.cookie(f,j,g);}};d.get=function(g,f){var h=a.cookie(g);return h==undefined?f:h;};d.remove=function(f,h){var g=a.extend({},b,h);a.removeCookie(f,g);};}(typeof window!=="undefined"?window:this,jQuery,JU.__JU.Pref,JU.__JU.Str));(function(c,a,d){d.lightOverlayCSS={background:"#eee url(/static/global/images/ajax-loader.gif) no-repeat center",backgroundSize:"16px 16px",opacity:0.5};d.darkOverlayCSS={background:"#000 url(/static/global/images/ajax-loader.gif) no-repeat center",backgroundSize:"16px 16px",opacity:0.6};function b(f){var e;if(a.type(f)==="string"){f={message:f};}e={message:null,overlayCSS:d.lightOverlayCSS};f=a.extend({},e,f);return f;}d.block=function(e,f){if(e==null){return;}f=b(f);if(e==undefined){return a.blockUI(f);}return a(e).block(f);};d.unblock=function(e){if(e==null){return;}if(e==undefined){return a.unblockUI();}return a(e).unblock();};d.delayBlock=function(e,f,g){if(f==null){return;}return setTimeout(function(){d.block(f,g);},e);};d.delayUnblock=function(f,e){if(e==null){return;}clearTimeout(f);d.unblock(e);};}(typeof window!=="undefined"?window:this,jQuery,JU.__JU.UI));(function(e,a,f,j,h,b,d){f.formAutoFocus=function(n){var k=a(n),m=k.find(".has-error").find('[type="text"], [type="password"], [type="email"], textarea'),l;if(m.length){m.first().focus().caretToEnd();}else{l=k.find('input[type="text"], input[type="password"], textarea');if(l.length){l.first().focus().caretToEnd();}}};f.submitForm=function(q,w,m,u,s,n,o,r){var k=a(q),p,l,x,y;if(!a.fn.hasOwnProperty("ajaxForm")){BootstrapDialog.show({title:gettext("UI.Patterns.submitForm Error"),message:gettext("This function requires jQuery Form (https://github.com/malsup/form.git)."),animate:false});return;}w=w||q;function v(){function z(){setTimeout(function(){k.find('input[type="hidden"][name="submit-via"]').remove();},2000);}k.ajaxForm(l);k.find(".ajax-reset").click(function(){k.attr("novalidate","novalidate");k.append(h.format('<input type="hidden" name="submit-via" value="{0}" />',this.name||this.value));if(!a(this).is(":submit")){k.submit();}z();});k.find('[type="submit"]').not(".ajax-reset").click(function(){k.append(h.format('<input type="hidden" name="submit-via" value="{0}" />',this.name||this.value));z();});}function t(C){var D,E=h.parseJson(C,false),B,A=a(w),z;if(E===false){B=a("<div></div>").append(C);D=B.find(w);if(r!=undefined){A=a(r);}z=A.find('input[type="file"]').detach();A.replaceWith(D);if(z.length){A=a(A.selector);Arr.eachJq(z,function(F){if(F.val()){var H=F.attr("name"),G=A.find('input[type="file"][name="'+H+'"]');G.replaceWith(F);}});}k=a(k.selector);v();f.formAutoFocus(k);d.apply(u,this,[C]);}else{f.parseAjaxCommand(E,w,o);d.apply(u,this,[E]);if(s){s.close();}}}x=m!=undefined&&m.hasOwnProperty("beforeSubmit")?m.beforeSubmit:undefined;y=m!=undefined&&m.hasOwnProperty("success")?m.success:undefined;p={dataType:"html",error:function(A,B,z){j.unblock(w);BootstrapDialog.show({title:gettext("$.ajaxForm() Error"),message:z||gettext("Error occurred while retrieving the form."),animate:false});}};l=a.extend({},p,m,{beforeSubmit:function(){d.apply(x,this,arguments);j.block(w,n);},success:function(z,B,A){j.unblock(w);t(z);d.apply(y,this,arguments);}});v();};f.ajaxRefresh=function(o,q,m,p,l){q=q||o;m=m===undefined?o:m;var k={isAjaxCommand:true,message:"",displayMethod:"",command:"ajax-refresh",status:"",options:{localTarget:o,remoteTarget:q},onAjaxSuccess:"onAjaxSuccess"},n={onAjaxSuccess:p};if(l){k.options=a.extend({},l,k.options);}f.parseAjaxCommand(k,m,n);};function g(n,t,p,q,s,m,r,l){s=s||q;m=m===undefined?q:m;var k={isAjaxCommand:true,message:"",displayMethod:"",command:n,status:"",options:{remoteUrl:t,data:p,localTarget:q,remoteTarget:s},onAjaxSuccess:"onAjaxSuccess"},o={onAjaxSuccess:r};if(l){k.options=a.extend({},l,k.options);}f.parseAjaxCommand(k,m,o);}f.ajaxGet=function(q,m,n,p,l,o,k){g("ajax-get",q,m,n,p,l,o,k);};f.ajaxPost=function(q,m,n,p,l,o,k){g("ajax-post",q,m,n,p,l,o,k);
};f.parseAjaxCommand=function(k,m,p){if(a.type(k)==="string"){k=h.parseJson(k,false);}if(!Typ.isAjaxCommand(k)){return false;}if(k.command=="ajax-refresh"){k.command="ajax-get";k.options.remoteUrl="";if(k.options.commonTarget){k.options.localTarget=k.options.commonTarget;k.options.remoteTarget=k.options.commonTarget;delete k.options.commonTarget;}}var q,l,r,s=k.displayMethod,o=k.command,w=k.options,v,n=false;v=a.inArray(k.command,["refresh","redirect"])!=-1;m=m===undefined?w.localTarget:m;if(d.callByName(k.onPreParse,p,w,k)===false){d.callByName(k.onPostParse,p,w,k);return;}function u(){var x=k.options.htmlContent;if(x&&k.options.contentSelector){x=a("<div></div>").append(x).find(k.options.contentSelector);}if(o=="ajax-get"||o=="ajax-post"){j.block(m);setTimeout(function(){n=true;},500);}if(o=="refresh"){e.location.reload(true);}else{if(o=="redirect"){e.location=k.options.redirectUrl;}else{if(o=="replace-html"){a(k.options.localTarget).replaceWith(x);}else{if(o=="append-html"){a(k.options.localTarget).append(x);}else{if(!h.empty(k.onPostParse)){d.callByName(k.onPostParse,p,w,k);}}}}}}function t(){var y,x;function z(A,B){return setInterval(function(){if(n){clearInterval(y);j.unblock(m);var D=a("<div></div>").append(A),C;if(!h.empty(w.remoteTarget)){D=D.find(w.remoteTarget);}C=a(w.localTarget);if(B){C.empty().append(A);}else{C.replaceWith(D);if(!h.empty(k.onAjaxSuccess)){d.callByName(k.onAjaxSuccess,p,A,k);}}}},100);}if(o=="ajax-get"||o=="ajax-post"){x={url:w.remoteUrl||"",method:o=="ajax-post"?"POST":"GET",data:w.data||""};a.ajax(x).done(function(A){y=z(A,false);}).fail(function(C,D,B){var A=gettext(B);if(A){A=h.format("Error: {0}",A);}else{A=gettext("Errors occurred while retrieving data from the server ...");}y=z(A,true);});}}if(s=="block-ui"){q={message:k.message||null,blockTarget:m,delay:v?300:2000};l=a.extend({},q,w);j.block(l.blockTarget,l);t();setTimeout(function(){u();if(!v){j.unblock(l.blockTarget);}},l.delay);}else{if(s=="bs-dialog"){r={title:w.title||gettext("Message"),message:k.message,animate:false,type:k.status=="error"?"type-danger":"type-primary",buttons:[{label:gettext("OK"),cssClass:"btn-primary",action:function(x){x.close();}}],onhidden:function(){u();}};t();r=a.extend({},r,w);BootstrapDialog.show(r);}else{if(s=="alert"){t();alert(k.message);u();}else{t();u();}}}return k;};f.bsDialogAjax=function(r,k,n,q,o,l){if(e.BootstrapDialog==undefined){alert("This function required Bootstrap Dialog plugin.");return;}var m,p;m={title:r,message:gettext("Loading, please wait ... "),animate:false,onshown:function(s){var u,t=s.getModalDialog();u=j.delayBlock(300,t);function v(){j.delayUnblock(u,t);}a.ajax(k).done(function(w){var x=h.parseJson(w,false);if(x===false){t.find(".modal-body").empty().append(w);f.formAutoFocus(t);d.apply(q,s,[w]);v();}else{v();s.close();j.Patterns.parseAjaxCommand(x,t,l);}}).fail(function(x,y,w){v();w=gettext(w)||gettext("Error occurred while retrieving the form.");t.find(".modal-body").empty().append(h.format('<span class="error">{0}</span>',w));});},onhidden:function(s){d.apply(o,s);}};p=a.extend({},n,m);return BootstrapDialog.show(p);};f.submitAjaxRequest=function(k,l,n,m){var o=j.delayBlock(300,l);function p(){j.delayUnblock(o,l);}a.ajax(k).done(function(r){var q=h.parseJson(r,false);if(q!=false){p();j.Patterns.parseAjaxCommand(q,l,m);if(!q.isAjaxCommand){d.apply(n,l||this,[q]);}}else{p();d.apply(n,l||this,[r]);}}).fail(function(r,s,q){p();BootstrapDialog.show({title:gettext("Error"),animate:false,message:gettext(q)||gettext("Error occurred while submitting ...")});});};var c={};f.selectAjaxFilter=function(o,p,l,q,n,m){l=a.type(l)==="string"?{url:l}:l;var k=a(m||"body");k.on("change",o,function(){var r=k.find(o),s=k.find(p),x=Slct.getSelectedValues(r),u=gettext("Error occurred while retrieving data from the server."),w={data:{src_name:r.attr("name"),target_name:s.attr("name")}},y=a.cookie("csrftoken"),t;if(Typ.isArray(x)){t=r.attr("name")+"_"+Arr.implode(x,"|");}else{t=r.attr("name")+"_"+x;}w.data[r.attr("name")]=x;w=a.extend({},l,w);if(y!=undefined&&w.data.csrfmiddlewaretoken==undefined&&y!=undefined){w.data.csrfmiddlewaretoken=y;}function v(z){if(Typ.isJquery(z)){s.empty().append(z);}else{s.empty();Slct.addOptions(s,z);}d.apply(q,s.get(0),[s]);}if(!n&&c.hasOwnProperty(t)){v(c[t]);return;}a.ajax(w).done(function(B){var C=h.parseJson(B,false),E,F,D,A,z;if(C!==false){c[t]=C;v(C);}else{z=a(B);E=s.attr("id");if(E){D="select#"+E;A=z.find(D);}F=s.attr("name");if(F&&!A.length){D='select[name="'+F+'"]';A=z.find(D);}if(A.length){c[t]=A.children();v(A.children());}else{BootstrapDialog.alert(u);}}}).fail(function(A,B,z){BootstrapDialog.show({title:z,animate:false,message:u});});});if(!Slct.getSelectedValues(a(p))){a(o).change();}};f.clearOnEscape=function(p,o){var k=a(o),l=a(p),m;function n(q){if(q.which==27){m=a(q.target);m.prop("value",null).val("").change();}}if(o&&k.length){k.on("keyup",p,n);}else{l.on("keyup",n);}};}(typeof window!=="undefined"?window:this,jQuery,JU.__JU.UI.Patterns,JU.__JU.UI,JU.__JU.Str,JU.__JU.Bs,JU.__JU.Fn));
(function(c,a,b){b.confirmYesNo=function(f,d){function e(g,h){if(d!=undefined){Fn.apply(d,g,[h]);d=null;g.close();}}BootstrapDialog.show({title:gettext("Confirmation"),message:f,animate:false,buttons:[{label:gettext("(N) No"),hotkey:78,action:function(g){e(g,false);}},{label:gettext("(Y) Yes"),hotkey:89,cssClass:"btn-primary",action:function(g){e(g,true);}}],onhide:function(g){e(g,false);}});};}(typeof window!=="undefined"?window:this,jQuery,JU.__JU.UI.Bs));